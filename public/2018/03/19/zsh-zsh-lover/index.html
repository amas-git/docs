<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Zsh Lover本文根据ZshLover一文整理而成. NAMEzsh-lovers - tips, tricks and examples for the Z shell SYNOPSISJust read it. ;-) OVERVIEWWhenever we look at the zsh manual we wonder why there are no examples or thos">
<meta property="og:type" content="article">
<meta property="og:title" content="Zsh作弊手册">
<meta property="og:url" content="http://yoursite.com/2018/03/19/zsh-zsh-lover/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Zsh Lover本文根据ZshLover一文整理而成. NAMEzsh-lovers - tips, tricks and examples for the Z shell SYNOPSISJust read it. ;-) OVERVIEWWhenever we look at the zsh manual we wonder why there are no examples or thos">
<meta property="og:locale" content="zh-cn">
<meta property="og:updated_time" content="2018-07-17T03:43:27.386Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Zsh作弊手册">
<meta name="twitter:description" content="Zsh Lover本文根据ZshLover一文整理而成. NAMEzsh-lovers - tips, tricks and examples for the Z shell SYNOPSISJust read it. ;-) OVERVIEWWhenever we look at the zsh manual we wonder why there are no examples or thos">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Zsh作弊手册</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Inici</a></li>
         
          <li><a href="/about/">Qui som</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/projects_url">Projectes</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/03/22/javascript-play/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/03/19/cmd-pandoc/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Post Anterior</span>
      <span id="i-next" class="info" style="display:none;">Post Següent</span>
      <span id="i-top" class="info" style="display:none;">Adalt</span>
      <span id="i-share" class="info" style="display:none;">Compartir Post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2018/03/19/zsh-zsh-lover/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&text=Zsh作弊手册"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&is_video=false&description=Zsh作弊手册"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Zsh作弊手册&body=Check out this article: http://yoursite.com/2018/03/19/zsh-zsh-lover/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&name=Zsh作弊手册&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">Zsh Lover</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">NAME</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">3.</span> <span class="toc-text">SYNOPSIS</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">4.</span> <span class="toc-text">OVERVIEW</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">5.</span> <span class="toc-text">SHELL-SCRIPTING</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">6.</span> <span class="toc-text">EXAMPLES ==</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">7.</span> <span class="toc-text">ALIASES ==</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">8.</span> <span class="toc-text">补全</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">9.</span> <span class="toc-text">七七八八的示例</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">10.</span> <span class="toc-text">随机数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">11.</span> <span class="toc-text">字符处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">12.</span> <span class="toc-text">Get the PID of a process (without ps&#39;&#39;,sed’’, ``pgrep’’, ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">13.</span> <span class="toc-text">(under Linux)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">14.</span> <span class="toc-text">for X in ‘n’ ‘o’ ‘p’ ‘q’ ‘r’ ‘s’ ‘t’ ‘u’ ‘v’ ‘w’ ‘x’ ‘y’; do …</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">15.</span> <span class="toc-text">or in combination with ``dc’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">16.</span> <span class="toc-text">or with ``eval’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">17.</span> <span class="toc-text">foreach in one line of shell</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">18.</span> <span class="toc-text">copy a directory recursively without data/files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">19.</span> <span class="toc-text">or without zsh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">20.</span> <span class="toc-text">If `foo=23’’, then print with 10 digit with leading ‘0’.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">21.</span> <span class="toc-text">find the name of all the files in their home directory that have</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">22.</span> <span class="toc-text">more than 20 characters in their file names</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">23.</span> <span class="toc-text">Save arrays</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">24.</span> <span class="toc-text">get a “ls -l” on all the files in the tree that are younger than a</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">25.</span> <span class="toc-text">specified age (e.g “ls -l” all the files in the tree that where</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">26.</span> <span class="toc-text">modified in the last 2 days)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">27.</span> <span class="toc-text">This will give you a listing 1 file perl line (not à la ls -R).</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">28.</span> <span class="toc-text">Think of an easy way to have a “ls -R” style output with</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">29.</span> <span class="toc-text">only files newer than 2 day old.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">30.</span> <span class="toc-text">If you also want directories to be included even if their mtime</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">31.</span> <span class="toc-text">is more than 2 days old:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">32.</span> <span class="toc-text">And if you want only the directories with mtime &lt; 2 days to be listed:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">33.</span> <span class="toc-text">print 42 ``-‘’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">34.</span> <span class="toc-text">or use ``$COLUMS’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">35.</span> <span class="toc-text">and now with colors (require autoload colors ;colors)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">36.</span> <span class="toc-text">Redirect STDERR to a command like xless without redirecting STDOUT as well.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">37.</span> <span class="toc-text">but this executes the command asynchronously. To do it synchronously:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">38.</span> <span class="toc-text">Rename all MP3-Files from name with spaces.mp3 to Name With Spaces.mp3</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">39.</span> <span class="toc-text">Match file names containing only digits and ending with .xml (require</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">40.</span> <span class="toc-text">setopt kshglob)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">41.</span> <span class="toc-text">Remove all “non txt” files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">42.</span> <span class="toc-text">Move 200 files from a directory into another</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">43.</span> <span class="toc-text">Convert images (foo.gif =&gt; foo.png):</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">44.</span> <span class="toc-text">convert a collection of mp3 files to wave or cdr,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">45.</span> <span class="toc-text">e.g. file.wav -&gt; file.mp3)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">46.</span> <span class="toc-text">Download with LaTeX2HTML  created Files (for example the ZSH-Guide):</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">47.</span> <span class="toc-text">Move all files in dir1 and dir2 that have line counts greater than 10 to</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">48.</span> <span class="toc-text">another directory say “/more10”</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">49.</span> <span class="toc-text">Make with dpkg a master-list of everyfile that it has installed</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">50.</span> <span class="toc-text">Replace this fucking Escape-Sequences:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">51.</span> <span class="toc-text">Get ASCII value of a character</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">52.</span> <span class="toc-text">Filename “Erweiterung”</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">53.</span> <span class="toc-text">Note: The (N) says to use the nullglob option for this particular</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">54.</span> <span class="toc-text">glob pattern.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">55.</span> <span class="toc-text">Rename files; i. e. FOO to foo and bar to BAR</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">56.</span> <span class="toc-text">Show all suid-files in $PATH</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">57.</span> <span class="toc-text">or more complex ;)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">58.</span> <span class="toc-text">or show only executables with a user given pattern</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">59.</span> <span class="toc-text">gzip files when containing a certain string</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">60.</span> <span class="toc-text">A small  one-liner, that reads from stdin and prints to stdout the first</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">61.</span> <span class="toc-text">unique line i. e. does not print lines that have been printed before</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">62.</span> <span class="toc-text">(this is similar to the unique command, but unique can only handle</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">63.</span> <span class="toc-text">adjacent lines).</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">64.</span> <span class="toc-text">Lists every executable in PATH</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">65.</span> <span class="toc-text">Match all .c files in all subdirectories, except any SCCS subdirectories?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">66.</span> <span class="toc-text">List all `README’ - files case-insensitive with max. one typo</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">67.</span> <span class="toc-text">case insensitive checking for variables</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">68.</span> <span class="toc-text">Search for `README’ in all Subdirectories</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">69.</span> <span class="toc-text">find directories that contain both “index.php” and “index.html”, or in</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">70.</span> <span class="toc-text">general, directories that contain more than one file matching “index.*”</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">71.</span> <span class="toc-text">or</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">72.</span> <span class="toc-text">Find command to search for directory name instead of basename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">73.</span> <span class="toc-text">or - without Zsh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">74.</span> <span class="toc-text">Print he path of the directories holding the ten biggest C regular files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">75.</span> <span class="toc-text">in the current directory and subdirectories.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">76.</span> <span class="toc-text">Find files with size == 0 and send a mail</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">77.</span> <span class="toc-text">recursive chmod</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">78.</span> <span class="toc-text">print out all of the files in that directory in 2 columns</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">79.</span> <span class="toc-text">^- number ob columns</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">80.</span> <span class="toc-text">or - if you feel concerned about special characters - use</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">81.</span> <span class="toc-text">Search all files in /home//-mail/ with a setting ``chmod -s’’ flag</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">82.</span> <span class="toc-text">(recursive, include  dotfiles) remove the setgid/setuid flag and print</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">83.</span> <span class="toc-text">a message</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">84.</span> <span class="toc-text">or with a small script</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">85.</span> <span class="toc-text">or use ``zargs’’ (require autoload zargs) prevent the arg list too</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">86.</span> <span class="toc-text">long error</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">87.</span> <span class="toc-text">List files beginning at `foo23’ upwards (foo23, foo24, foo25, ..)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">88.</span> <span class="toc-text">get all files that begin with the date strings from June 4 through</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">89.</span> <span class="toc-text">June 9 of 2004</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">90.</span> <span class="toc-text">or if they are of the form 200406XX (require ``setopt extended_glob’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">91.</span> <span class="toc-text">remove spaces from filenames</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">92.</span> <span class="toc-text">Show only all .c and .h - Files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">93.</span> <span class="toc-text">Show only all *.c - files and ignore `foo.c’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">94.</span> <span class="toc-text">show data to really binary format</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">95.</span> <span class="toc-text">Show only world-readable files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">96.</span> <span class="toc-text">List files in the current directory are not writable by the owner</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">97.</span> <span class="toc-text">find and delete the files which are older than a given parameter</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">98.</span> <span class="toc-text">(seconds/minutes/hours)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">99.</span> <span class="toc-text">deletes all regular file in /Dir that are older than 3 hours</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">100.</span> <span class="toc-text">deletes all symlinks in /Dir that are older than 3 minutes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">101.</span> <span class="toc-text">deletes all non dirs in /Dir that are older than 30 seconds</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">102.</span> <span class="toc-text">deletes all folders, sub-folders and files older than one hour</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">103.</span> <span class="toc-text">deletes all files more than 6 hours old</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">104.</span> <span class="toc-text">removes all files but the ten newer ones (delete all but last 10</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">105.</span> <span class="toc-text">files in a directory)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">106.</span> <span class="toc-text">A User’s Guide to the Z-Shell /5.9: Filename Generation and Pattern</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">107.</span> <span class="toc-text">Matching find all files in all subdirectories, searching recursively,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">108.</span> <span class="toc-text">which have a given name, case insensitive, are at least 50 KB large,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">109.</span> <span class="toc-text">no more than a week old and owned by the root user, and allowing up</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">110.</span> <span class="toc-text">to a single error in the spelling of the name. In fact, the required</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">111.</span> <span class="toc-text">expression looks like this:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">112.</span> <span class="toc-text">Change the UID from 102 to 666</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">113.</span> <span class="toc-text">List all files which have not been updated since last 10 hours</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">114.</span> <span class="toc-text">delete only the oldest file in a directory</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">115.</span> <span class="toc-text">Sort the output from `ls -l’ by file size</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">116.</span> <span class="toc-text">find most recent file in a directory</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">117.</span> <span class="toc-text">Show only empty files which nor group&#39; orworld writable’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">118.</span> <span class="toc-text">Find - and list - the ten newest files in directories and subdirs.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">119.</span> <span class="toc-text">(recursive)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">120.</span> <span class="toc-text">Print only 5 lines by “ls” command (like ``ls -laS | head -n 5’’).</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">121.</span> <span class="toc-text">Display the 5-10 last modified files.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">122.</span> <span class="toc-text">Find all files without a valid owner.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">123.</span> <span class="toc-text">Find all the empty directories in a tree.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">124.</span> <span class="toc-text">Note:Since Zsh 4.2.1 the glob qualifier F indicates a non-empty directory.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">125.</span> <span class="toc-text">Hence (F) indicates all subdirectories with entries, (/^F) means all</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">126.</span> <span class="toc-text">subdirectories with no entries.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">127.</span> <span class="toc-text">Remove empty directories afterwards.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">128.</span> <span class="toc-text">Show only files which are owned by group `users’.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">129.</span> <span class="toc-text">NOTE: Zsh 4.3.4 needed!</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">130.</span> <span class="toc-text">files modified today</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">131.</span> <span class="toc-text">files modified since 5 pm</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">132.</span> <span class="toc-text">… since 5 o’clock yesterda</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">133.</span> <span class="toc-text">… from last Christmas before today</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">134.</span> <span class="toc-text">… before yesterday</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">135.</span> <span class="toc-text">all files modified between the start of those dates</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">136.</span> <span class="toc-text">all files modified on that date</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">137.</span> <span class="toc-text">Supply times.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">138.</span> <span class="toc-text">Remove a trailing pathname component, leaving the head. This works like</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">139.</span> <span class="toc-text">`dirname’.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">140.</span> <span class="toc-text">Remove all leading pathname components, leaving the tail. This works</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">141.</span> <span class="toc-text">like `basename’.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">142.</span> <span class="toc-text">Remove the suffix from each file (*.sh in this example)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">143.</span> <span class="toc-text">Remove a filename extension of the form `.xxx’, leaving the root name.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">144.</span> <span class="toc-text">Remove all but the extension.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">145.</span> <span class="toc-text">Print the new command but do not execute it. Only works with history</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">146.</span> <span class="toc-text">expansion.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">147.</span> <span class="toc-text">Quote the substituted words, escaping further substitutions.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">148.</span> <span class="toc-text">Convert the words to all lowercase.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">149.</span> <span class="toc-text">Convert the words to all uppercase.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">150.</span> <span class="toc-text">convert 1st char of a word to uppercase</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">151.</span> <span class="toc-text">Append `exit 1’ at the end of all *.sh - files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">152.</span> <span class="toc-text">adding files to foobar.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">153.</span> <span class="toc-text">Redirect output to a file AND display on screen</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">154.</span> <span class="toc-text">pipe single output to multiple inputs</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">155.</span> <span class="toc-text">Append /etc/services at the end of file foo&#39; andbar’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">156.</span> <span class="toc-text">Pipe STDERR</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">157.</span> <span class="toc-text">send standard output of one process to standard input of several processes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">158.</span> <span class="toc-text">in the pipeline</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">159.</span> <span class="toc-text">initializing a variable and simultaneously keeping terminal output</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">160.</span> <span class="toc-text">redirect stderr two times</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">161.</span> <span class="toc-text">Duplicating stdout and stderr to a logfile</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">162.</span> <span class="toc-text">redirect stderr (only) to a file and to orig. stderr:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">163.</span> <span class="toc-text">redirect stderr and stdout to separate files and both to orig. stdout:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">164.</span> <span class="toc-text">redirect stderr and stdout to separate files and stdout to orig. stdout</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">165.</span> <span class="toc-text">AND stderr to orig. stderr:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">166.</span> <span class="toc-text">More fun with STDERR ;)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">167.</span> <span class="toc-text">Remove illegal characters in a fat32 file system. Illegal characters are</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">168.</span> <span class="toc-text">/ :  ;  *  ?  “  &lt;  &gt;  |</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">169.</span> <span class="toc-text">NOTE: ``-Q’’ and (D) is to include hidden files.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">170.</span> <span class="toc-text">Changing part of a filename (i. e. “file-hell.name” -&gt; “file-heaven.name”)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">171.</span> <span class="toc-text">or</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">172.</span> <span class="toc-text">remove round bracket within filenames</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">173.</span> <span class="toc-text">i. e. foo-(bar).avi -&gt; foo-bar.avi</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">174.</span> <span class="toc-text">serially all files (foo.foo &gt; 1.foo, fnord.foo &gt; 2.foo, ..)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">175.</span> <span class="toc-text">Rename “file.with.many.dots.txt” by substituting dots (exept for the last</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">176.</span> <span class="toc-text">one!) with a space</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">177.</span> <span class="toc-text">Remove the first 4 chars from a filename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">178.</span> <span class="toc-text">Rename names of all files under the current Dir to lower case, but keep</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">179.</span> <span class="toc-text">dirnames as-is.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">180.</span> <span class="toc-text">replace all 4th character, which is “1”,  with “2” and so on</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">181.</span> <span class="toc-text">Remove the first 15 characters from a string</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">182.</span> <span class="toc-text">Replace spaces (any number of them) with a single dash in file names</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">183.</span> <span class="toc-text">or - with Bash</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">184.</span> <span class="toc-text">Clean up file names and remove special characters</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">185.</span> <span class="toc-text">Add *.py to a bunch of python scripts in a directory (some of them end</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">186.</span> <span class="toc-text">in *.py and give them all a proper extension</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">187.</span> <span class="toc-text">lowercase all extensions (i. e. *.JPG) incl. subfolders</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">188.</span> <span class="toc-text">Or - without Zsh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">189.</span> <span class="toc-text">remove leading zeros from file extension</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">190.</span> <span class="toc-text">renumber files.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">191.</span> <span class="toc-text">adding leading zeros to a filename (1.jpg -&gt; 001.jpg, ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">192.</span> <span class="toc-text">See above, but now only files with a filename &gt;= 30 chars</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">193.</span> <span class="toc-text">Replace spaces in filenames with a underline</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">194.</span> <span class="toc-text">Change the suffix from .sh to .pl</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">195.</span> <span class="toc-text">Add a “”.txt” extension to all the files within ${HOME}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">196.</span> <span class="toc-text">``-.’’ is to only rename regular files or symlinks to regular files,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">197.</span> <span class="toc-text">``D’’ is to also rename hidden files (dotfiles))</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">198.</span> <span class="toc-text">Or to only rename files that don’t have an extension:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">199.</span> <span class="toc-text">Recursively change filenames with characters ? [ ] / = + &lt; &gt; ; : “ , - *</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">200.</span> <span class="toc-text">Removing single quote from filenames (recursively)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">201.</span> <span class="toc-text">When a new file arrives (named file.txt) rename all files in order to</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">202.</span> <span class="toc-text">get (e. g. file119.txt becomes file120.txt, file118.txt becomes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">203.</span> <span class="toc-text">file119.txt and so on ending with file.txt becoming file1.txt</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">204.</span> <span class="toc-text">lowercase/uppercase all files/directories</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">205.</span> <span class="toc-text">Remove the suffix *.c from all C-Files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">206.</span> <span class="toc-text">Uppercase only the first letter of all *.mp3 - files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">207.</span> <span class="toc-text">Copy the target README&#39; in same directory as eachMakefile’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">208.</span> <span class="toc-text">Removing single quote from filenames (recursively)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">209.</span> <span class="toc-text">Rename pic1.jpg, pic2.jpg, .. to pic0001.jpg, pic0002.jpg, ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">210.</span> <span class="toc-text">Copy files of a certain period (date indicated in the filenames)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">211.</span> <span class="toc-text">or</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">212.</span> <span class="toc-text">Creates a forked instance of the current shell ($! is set to zero) and</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">213.</span> <span class="toc-text">execute ``command’’ on /dev/tty8 (for this example).</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">214.</span> <span class="toc-text">strip date from filename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">215.</span> <span class="toc-text">Search files size == 0, to be based on the file name containing a date</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">216.</span> <span class="toc-text">rather than the “last modified” date of the file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">217.</span> <span class="toc-text">test if a symbolic link links to a certain file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">218.</span> <span class="toc-text">comparing file dates</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">219.</span> <span class="toc-text">list the files of a disk smaller than some other file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">220.</span> <span class="toc-text">List the top 100 biggest files in a disk</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">221.</span> <span class="toc-text">Get only the user name and the file names from (like</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">222.</span> <span class="toc-text">ls -l * | awk ‘{print $3” “ $8}’)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">223.</span> <span class="toc-text">get the difference between actual bytes of file and allocated bytes of file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">224.</span> <span class="toc-text">Find largest file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">225.</span> <span class="toc-text">``D’’  : to include dot files (d lowercase is for device)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">226.</span> <span class="toc-text">``O’’  : reverse Ordered (o lowercase for non-reverse order)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">227.</span> <span class="toc-text">``L’’  : by file Length (l is for number of links)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">228.</span> <span class="toc-text">``[1]’’: return only first one</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">229.</span> <span class="toc-text">file size in bytes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">230.</span> <span class="toc-text">Delete files in a directory that hasn’t been accessed in the last ten days</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">231.</span> <span class="toc-text">and send ONE mail to the owner of the files informing him/her of the files’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">232.</span> <span class="toc-text">deletion.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">233.</span> <span class="toc-text">Get a “ls -l” on all the files in the tree that are younger than a</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">234.</span> <span class="toc-text">specified age</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">235.</span> <span class="toc-text">get file creation date</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">236.</span> <span class="toc-text">search a directory for files containing a certain string then copy those</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">237.</span> <span class="toc-text">files to another directory.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">238.</span> <span class="toc-text">grepping for two patterns</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">239.</span> <span class="toc-text">or a solution in combination with zsh/pcre</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">240.</span> <span class="toc-text">equivalent for ``less /etc/passwd | grep -v root’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">241.</span> <span class="toc-text">or - for case insensitive</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">242.</span> <span class="toc-text">If a XML-file contains stuff like &lt;TAGA/&gt;&#39;&#39; and‘’, number</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">243.</span> <span class="toc-text">this empty tags (ones ending in ‘/&gt;’) so if encountered in the same</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">244.</span> <span class="toc-text">order, the preceeding tags would become ``1‘’ and</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">245.</span> <span class="toc-text">``2‘’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">246.</span> <span class="toc-text">removing all files in users Maildir/new that contain ``filename=”gone.src’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">247.</span> <span class="toc-text">Grep out the Title from a postscript file and append that value to the</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">248.</span> <span class="toc-text">end of the filename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">249.</span> <span class="toc-text">``-r’’: read the output of the command name.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">250.</span> <span class="toc-text">``z’’ : Parameter</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">251.</span> <span class="toc-text">send the to command name the given strings as input</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">252.</span> <span class="toc-text">The second form, with the -d option, is used to delete commands</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">253.</span> <span class="toc-text">previously started, by supplying a list of their names. If no names</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">254.</span> <span class="toc-text">are given, all commands are deleted. Deleting a command causes the HUP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">255.</span> <span class="toc-text">signal to be sent to the corresponding process.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">256.</span> <span class="toc-text">``-l’’: open a socket listening on filename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">257.</span> <span class="toc-text">``-d’’: argument will be taken as the target file descriptor for the</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">258.</span> <span class="toc-text">connection</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">259.</span> <span class="toc-text">3&#39;&#39; : file descriptor. SeeA User’s Guide to the Z-Shell’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">260.</span> <span class="toc-text">(3.7.2: File descriptors)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">261.</span> <span class="toc-text">``-a’’: accept an incoming connection to the socket</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">262.</span> <span class="toc-text">Automatically transfer files using FTP with error checking</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">263.</span> <span class="toc-text">compress and ftp on the fly</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">264.</span> <span class="toc-text">Recursice ``get’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">265.</span> <span class="toc-text">Upload all regular files in $HOME/foobar (recursive) that are newer than</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">266.</span> <span class="toc-text">two hours to ftp.foobar.invalid/path/to/upload</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">267.</span> <span class="toc-text">long list of files on a ftp</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">268.</span> <span class="toc-text">If the list.txt is located on the remote host, change to</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">269.</span> <span class="toc-text">zfget ${(f)”$(zftp get /path/to/remote/list.txt)”}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">270.</span> <span class="toc-text">It’s similar to</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">271.</span> <span class="toc-text">批量给文件添加前缀</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">272.</span> <span class="toc-text">给所有文件添加前缀ext_, 1.txt变成ext_1.txt, 以此类推</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Zsh作弊手册
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Hexo</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-03-19T08:36:54.000Z" itemprop="datePublished">2018-03-19</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1><span id="zsh-lover">Zsh Lover</span></h1><p>本文根据ZshLover一文整理而成.</p>
<h1><span id="name">NAME</span></h1><p>zsh-lovers - tips, tricks and examples for the Z shell</p>
<h1><span id="synopsis">SYNOPSIS</span></h1><p>Just read it. ;-)</p>
<h1><span id="overview">OVERVIEW</span></h1><p>Whenever we look at the zsh manual we wonder why there are no examples or those simply things in (shell) life. The zsh contains many features, but there was no manpage with some examples (like procmailex(5)). That’s why we wrote this manpage.<br>Most of the tricks and oneliner come from the mailinglists zsh-users, zsh-workers, google, newsgroups and from ourself. See section LINKS for details.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Note: This manpage (zsh-lovers(1)) is not an offical part of the Z shell! It’s just a just for fun - manpage ;)</span><br><span class="line">For comments, bugreports and feedback take a quick look at the section BUGS.</span><br></pre></td></tr></table></figure>
<h1><span id="shell-scripting">SHELL-SCRIPTING</span></h1><p>This section provides some examples for often needed shellscript-stuff. Notice that you should not use otherwise most examples won’t work.<br>Parse options in shellscripts. Example taken from ZWS by Adam Chodorowski (<a href="http://www.chodorowski.com/projects/zws/" target="_blank" rel="noopener">http://www.chodorowski.com/projects/zws/</a>):</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">parse_options()</span><br><span class="line">&#123;</span><br><span class="line">    o_port=(-p 9999)</span><br><span class="line">    o_root=(-r WWW)</span><br><span class="line">    o_log=(-d ZWS.log)</span><br><span class="line"></span><br><span class="line">    zparseopts -K -- p:=o_port r:=o_root l:=o_log h=o_help</span><br><span class="line">    if [[ $? != 0 || &quot;$o_help&quot; != &quot;&quot; ]]; then</span><br><span class="line">        echo Usage: $(basename &quot;$0&quot;) &quot;[-p PORT] [-r DIRECTORY]&quot;</span><br><span class="line">        exit 1</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    port=$o_port[2]</span><br><span class="line">    root=$o_root[2]</span><br><span class="line">    log=$o_log[2]</span><br><span class="line"></span><br><span class="line">    if [[ $root[1] != &apos;/&apos; ]]; then root=&quot;$PWD/$root&quot;; fi</span><br><span class="line">&#125;</span><br><span class="line"># now use the function:</span><br><span class="line">parse_options $*</span><br></pre></td></tr></table></figure>
<h1><span id="examples">EXAMPLES ==</span></h1><p>Available subsections are Aliases, Completion, Unsorted/Misc examples, (Recursive) Globbing - Examples, Modifiers usage, Redirection-Examples, ZMV-Examples and Module-Examples.</p>
<h1><span id="aliases">ALIASES ==</span></h1><p>Suffix aliases are supported in zsh since version 4.2.0. Some examples:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alias -s tex=vim</span><br><span class="line">alias -s html=w3m</span><br><span class="line">alias -s org=w3m</span><br></pre></td></tr></table></figure></p>
<p>Now pressing return-key after entering foobar.tex starts vim with foobar.tex. Calling a html-file runs browser w3m. www.zsh.org and pressing enter starts w3m with argument www.zsh.org.<br>Global aliases can be used anywhere in the command line. Example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ alias -g C=&apos;| wc -l&apos;</span><br><span class="line">$ grep alias ~/.zsh/* C</span><br><span class="line">443</span><br></pre></td></tr></table></figure></p>
<p>Some more or less useful global aliases (choose whether they are useful or not for you on your own):<br>这里收集了一些常用的[ZshGlobalAliase 全局别名]:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">alias -g ...=&apos;../..&apos;</span><br><span class="line">alias -g ....=&apos;../../..&apos;</span><br><span class="line">alias -g .....=&apos;../../../..&apos;</span><br><span class="line">alias -g CA=&quot;2&gt;&amp;1 | cat -A&quot;</span><br><span class="line">alias -g C=&apos;| wc -l&apos;</span><br><span class="line">alias -g D=&quot;DISPLAY=:0.0&quot;</span><br><span class="line">alias -g DN=/dev/null</span><br><span class="line">alias -g ED=&quot;export DISPLAY=:0.0&quot;</span><br><span class="line">alias -g EG=&apos;|&amp; egrep&apos;</span><br><span class="line">alias -g EH=&apos;|&amp; head&apos;</span><br><span class="line">alias -g EL=&apos;|&amp; less&apos;</span><br><span class="line">alias -g ELS=&apos;|&amp; less -S&apos;</span><br><span class="line">alias -g ETL=&apos;|&amp; tail -20&apos;</span><br><span class="line">alias -g ET=&apos;|&amp; tail&apos;</span><br><span class="line">alias -g F=&apos; | fmt -&apos;</span><br><span class="line">alias -g G=&apos;| egrep&apos;</span><br><span class="line">alias -g H=&apos;| head&apos;</span><br><span class="line">alias -g HL=&apos;|&amp; head -20&apos;</span><br><span class="line">alias -g Sk=&quot;*~(*.bz2|*.gz|*.tgz|*.zip|*.z)&quot;</span><br><span class="line">alias -g LL=&quot;2&gt;&amp;1 | less&quot;</span><br><span class="line">alias -g L=&quot;| less&quot;</span><br><span class="line">alias -g LS=&apos;| less -S&apos;</span><br><span class="line">alias -g MM=&apos;| most&apos;</span><br><span class="line">alias -g M=&apos;| more&apos;</span><br><span class="line">alias -g NE=&quot;2&gt; /dev/null&quot;</span><br><span class="line">alias -g NS=&apos;| sort -n&apos;</span><br><span class="line">alias -g NUL=&quot;&gt; /dev/null 2&gt;&amp;1&quot;</span><br><span class="line">alias -g PIPE=&apos;|&apos;</span><br><span class="line">alias -g R=&apos; &gt; /c/aaa/tee.txt &apos;</span><br><span class="line">alias -g RNS=&apos;| sort -nr&apos;</span><br><span class="line">alias -g S=&apos;| sort&apos;</span><br><span class="line">alias -g TL=&apos;| tail -20&apos;</span><br><span class="line">alias -g T=&apos;| tail&apos;</span><br><span class="line">alias -g US=&apos;| sort -u&apos;</span><br><span class="line">alias -g VM=/var/log/messages</span><br><span class="line">alias -g X0G=&apos;| xargs -0 egrep&apos;</span><br><span class="line">alias -g X0=&apos;| xargs -0&apos;</span><br><span class="line">alias -g XG=&apos;| xargs egrep&apos;</span><br><span class="line">alias -g X=&apos;| xargs&apos;</span><br></pre></td></tr></table></figure></p>
<h1><span id="bu-quan">补全</span></h1><p>See also man 1 zshcompctl zshcompsys zshcompwid. zshcompctl is the old style of zsh programmable completion, zshcompsys is the new completion system, zshcompwid are the zsh completion widgets.</p>
<p>Some functions, like _apt and _dpkg, are very slow. You can use a cache in order to proxy the list of results (like the list of available debian packages) Use a cache:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zstyle &apos;:completion:*&apos; use-cache on</span><br><span class="line">zstyle &apos;:completion:*&apos; cache-path ~/.zsh/cache</span><br></pre></td></tr></table></figure></p>
<p>Prevent CVS files/directories from being completed:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zstyle &apos;:completion:*:(all-|)files&apos; ignored-patterns &apos;(|*/)CVS&apos;</span><br><span class="line">zstyle &apos;:completion:*:cd:*&apos; ignored-patterns &apos;(*/)#CVS&apos;</span><br></pre></td></tr></table></figure></p>
<p>Fuzzy matching of completions for when you mistype them:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">zstyle &apos;:completion:*&apos; completer _complete _match _approximate</span><br><span class="line">zstyle &apos;:completion:*:match:*&apos; original only</span><br><span class="line">zstyle &apos;:completion:*:approximate:*&apos; max-errors 1 numeric</span><br></pre></td></tr></table></figure></p>
<p>And if you want the number of errors allowed by _approximate to increase with the length of what you have typed so far:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zstyle -e &apos;:completion:*:approximate:*&apos; </span><br><span class="line">        max-errors &apos;reply=($((($#PREFIX+$#SUFFIX)/3))numeric)&apos;</span><br></pre></td></tr></table></figure></p>
<p>Ignore completion functions for commands you don’t have:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zstyle &apos;:completion:*:functions&apos; ignored-patterns &apos;_*&apos;</span><br></pre></td></tr></table></figure></p>
<p>With helper functions like:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xdvi() &#123; command xdvi $&#123;*:-*.dvi(om[1])&#125; &#125;</span><br></pre></td></tr></table></figure></p>
<p>you can avoid having to complete at all in many cases, but if you do, you might want to fall into menu selection immediately and to have the words sorted by time:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zstyle &apos;:completion:*:*:xdvi:*&apos; menu yes select</span><br><span class="line">zstyle &apos;:completion:*:*:xdvi:*&apos; file-sort time</span><br></pre></td></tr></table></figure></p>
<p>Completing process IDs with menu selection:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zstyle &apos;:completion:*:*:kill:*&apos; menu yes select</span><br><span class="line">zstyle &apos;:completion:*:kill:*&apos;   force-list always</span><br></pre></td></tr></table></figure></p>
<p>If you end up using a directory as argument, this will remove the trailing slash (usefull in ln)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zstyle &apos;:completion:*&apos; squeeze-slashes true</span><br></pre></td></tr></table></figure></p>
<p>cd will never select the parent directory (e.g.: cd ../<tab>):<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zstyle &apos;:completion:*:cd:*&apos; ignore-parents parent pwd</span><br></pre></td></tr></table></figure></tab></p>
<p>Another method for quick change directories. Add this to your ~/.zshrc, then just enter “cd …./dir”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">rationalise-dot() &#123;</span><br><span class="line">  if [[ $LBUFFER = *.. ]]; then</span><br><span class="line">    LBUFFER+=/..</span><br><span class="line">  else</span><br><span class="line">    LBUFFER+=.</span><br><span class="line">  fi</span><br><span class="line">&#125;</span><br><span class="line">zle -N rationalise-dot</span><br><span class="line">bindkey . rationalise-dot</span><br></pre></td></tr></table></figure></p>
<h1><span id="qi-qi-ba-ba-de-shi-li">七七八八的示例</span></h1><p> Hint: A list of valid glob Qualifiers can be found in zshexpn(1).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Qualifiers for details:</span><br><span class="line">$ man 1 zshexpn | less -p</span><br></pre></td></tr></table></figure></p>
<h1><span id="sui-ji-shu">随机数</span></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 生成0-999区间内的随机数</span><br><span class="line">$ echo $[$&#123;RANDOM&#125;%1000]</span><br><span class="line"></span><br><span class="line"># 生成10-20区间内的随机数</span><br><span class="line">$ echo $[$&#123;RANDOM&#125;%11+10]</span><br></pre></td></tr></table></figure>
<h1><span id="zi-fu-chu-li">字符处理</span></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!sh</span><br><span class="line"># 反转字符串</span><br><span class="line">$ echo &quot;$&#123;(j::)$&#123;(@Oa)$&#123;(s::):-hello&#125;&#125;&#125;&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"># Get the names of all files that *don&apos;t* match a pattern *anywhere* on the</span><br><span class="line"># file (and without ``-L&apos;&apos; because its GNUish)</span><br><span class="line">  $ print -rl -- *(.^e&#123;&apos;grep -q pattern $REPLY&apos;&#125;)</span><br><span class="line">  # or</span><br><span class="line">  $ : *(.e&#123;&apos;grep -q pattern $REPLY || print -r -- $REPLY&apos;&#125;)</span><br><span class="line"></span><br><span class="line"># random numbers</span><br><span class="line">  $ echo $[$&#123;RANDOM&#125;%1000]     # random between 0-999</span><br><span class="line">  $ echo $[$&#123;RANDOM&#125;%11+10]    # random between 10-20</span><br><span class="line">  $ echo $&#123;(l:3::0:)$&#123;RANDOM&#125;&#125; # N digits long (3 digits)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Show newest directory</span><br><span class="line">  $ ls -ld *(/om[1])</span><br><span class="line"></span><br><span class="line"># random array element</span><br><span class="line">  $ FILES=( .../files/* )</span><br><span class="line">  $ feh $FILES[$RANDOM%$#FILES+1]</span><br><span class="line"></span><br><span class="line"># cat first line in all files in this dir</span><br><span class="line">  $ for file (*(ND-.)) IFS= read -re &lt; $file</span><br><span class="line"></span><br><span class="line"># test if a parameter is numeric</span><br><span class="line">  $ if [[ $1 == &lt;-&gt; ]] ; then</span><br><span class="line">         echo numeric</span><br><span class="line">    else</span><br><span class="line">         echo non-numeric</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line"># Show me all the .c files for which there doesn&apos;t exist a .o file.</span><br><span class="line">  $ print *.c(e_&apos;[[ ! -e $REPLY:r.o ]]&apos;_)</span><br><span class="line"></span><br><span class="line"># All files in /var/ that are not owned by root</span><br><span class="line">  $ ls -ld /var/*(^u:root)</span><br><span class="line"></span><br><span class="line"># All files for which the owner hat read and execute permissions</span><br><span class="line">  $ echo *(f:u+rx:)</span><br><span class="line"></span><br><span class="line"># The same, but also others dont have execute permissions</span><br><span class="line">  $ echo *(f:u+rx,o-x:)</span><br><span class="line"></span><br><span class="line"># brace expansion - example</span><br><span class="line">  $ X=(A B C)</span><br><span class="line">  $ Y=(+ -)</span><br><span class="line">  $ print -r -- $^X.$^Y</span><br><span class="line">  A.+ A.- B.+ B.- C.+ C.-</span><br><span class="line"></span><br><span class="line"># Fetch the newest file containing the string &apos;fgractg*.log&apos; in the</span><br><span class="line"># filename and contains the string &apos;ORA-&apos; in it</span><br><span class="line">  $ file=(fgractg*.log(Nm0om[1]))</span><br><span class="line">  $ (($#file)) &amp;&amp; grep -l ORA- $file</span><br><span class="line">  # without Zsh</span><br><span class="line">  $ files=$( find . -name . -o -prune -name &apos;fgractg*&gt;log&apos; -mtime 0 -print )</span><br><span class="line">  &gt; if [ -n &quot;$files&quot; ]; then</span><br><span class="line">  &gt;    IFS=&apos;</span><br><span class="line">  &gt; &apos;</span><br><span class="line">  &gt; set -f</span><br><span class="line">  &gt; file=$(ls -td $files | head -1)</span><br><span class="line">  &gt; grep -l ORA- &quot;$file&quot;</span><br><span class="line">  &gt; fi</span><br><span class="line"></span><br><span class="line"># keep specified number of child processes running until entire task finished</span><br><span class="line">  $ zsh -c &apos;sleep 1 &amp; sleep 3 &amp; sleep 2&amp; print -rl -- $jobtexts&apos;</span><br><span class="line"></span><br><span class="line"># Remove zero length and .bak files in a directory</span><br><span class="line">  $ rm -i *(.L0) *.bak(.)</span><br><span class="line"></span><br><span class="line"># print out files that dont have extensions</span><br><span class="line">  $ printf &apos;%s</span><br><span class="line">&apos; ^?*.*</span><br><span class="line">  $ printf &apos;%s</span><br><span class="line">&apos; ^?*.[^.]*(D)</span><br><span class="line">  $ ls -d -- ^?*.*(D)</span><br><span class="line"></span><br><span class="line"># Finding files which does not contain a specific string</span><br><span class="line">  $ print -rl file* | comm -2 -3 - &lt;(grep -l string file*)&apos;</span><br><span class="line">  $ for f (file*(N)) grep -q string $f || print -r $f&apos;</span><br><span class="line"></span><br><span class="line"># Show/Check whether a option is set or not. It works both with $options as</span><br><span class="line"># with $builtins</span><br><span class="line">  $ echo $options[correct]</span><br><span class="line">  off</span><br><span class="line">  $ $options[zle]</span><br><span class="line">  on</span><br><span class="line"></span><br><span class="line"># Count the number of directories on the stack</span><br><span class="line">  $ print $(($&#123;$&#123;(z)$&#123;(f)&quot;$(dirs -v)&quot;&#125;[-1]&#125;[1]&#125; + 1)) # or</span><br><span class="line">  $ dirs -v | awk &apos;&#123;n=$1&#125;END&#123;print n+1&#125;&apos;</span><br><span class="line"></span><br><span class="line"># Matching all files which do not have a dot in filename</span><br><span class="line">  $ ls *~*.*(.)</span><br><span class="line"></span><br><span class="line"># Show only the ip-address from ``ifconfig device&apos;&apos;</span><br><span class="line">  # ifconfig from net-tools (Linux)</span><br><span class="line">  $ print $&#123;$&#123;$(LC_ALL=C /sbin/ifconfig eth0)[7]&#125;:gs/addr://&#125;</span><br><span class="line">  # ifconfig from 4.2BSD &#123;Free,Net,Open&#125;BSD</span><br><span class="line">  $ print $&#123;$(/sbin/ifconfig tun0)[6]&#125;</span><br><span class="line"></span><br><span class="line"># Ping all the IP addresses in a couple of class C&apos;s or all hosts</span><br><span class="line"># into /etc/hosts</span><br><span class="line">  $ for i in &#123;1..254&#125;; do ping -c 1 192.168.13.$i; done</span><br><span class="line">  or</span><br><span class="line">  $ I=1</span><br><span class="line">  $ while ( [[ $I -le 255 ]] ) ; do ping -1 2 150.150.150.$I; let I++; done</span><br><span class="line">  or</span><br><span class="line">  $ for i in $(sed &apos;s/#.*//&apos; &gt; /etc/hosts | awk &apos;&#123;print $2&#125;&apos;)</span><br><span class="line">  : do</span><br><span class="line">  :    echo &quot;Trying $i ... &quot;</span><br><span class="line">  :    ping -c 1 $i ;</span><br><span class="line">  :    echo &apos;=============================&apos;</span><br><span class="line">  : done</span><br><span class="line"></span><br><span class="line"># load all available modules at startup</span><br><span class="line">  $ typeset -U m</span><br><span class="line">  $ m=()</span><br><span class="line">  $ for md ($module_path) m=($m $md/**/*(*e:&apos;REPLY=$&#123;REPLY#$md/&#125;&apos;::r))</span><br><span class="line">  $ zmodload -i $m</span><br><span class="line"></span><br><span class="line"># Rename all files within a directory such that their names get a numeral</span><br><span class="line"># prefix in the default sort order.</span><br><span class="line">  $ i=1; for j in *; do mv $j $i.$j; ((i++)); done</span><br><span class="line">  $ i=1; for f in *; do mv $f $(echo $i | </span><br><span class="line">    awk &apos;&#123; printf(&quot;%03d&quot;, $0)&#125;&apos;).$f; ((i++)); done</span><br><span class="line">  $ integer i=0; for f in *; do mv $f $[i+=1].$f; done</span><br><span class="line"></span><br><span class="line"># Find (and print) all symbolic links without a target within the current</span><br><span class="line"># dirtree.</span><br><span class="line">  $ $ file **/*(D@) | fgrep broken</span><br><span class="line">  $ for i in **/*(D@); [[ -f $i || -d $i ]] || echo $i</span><br><span class="line">  $ echo **/*(@-^./=%p)</span><br><span class="line">  $ print -l **/*(-@)</span><br><span class="line"></span><br><span class="line"># List all plain files that do not have extensions listed in `fignore&apos;</span><br><span class="line">  $ ls **/*~*($&#123;~$&#123;(j/|/)fignore&#125;&#125;)(.)</span><br><span class="line">  # see above, but now omit executables</span><br><span class="line">  $ ls **/*~*($&#123;~$&#123;(j/|/)fignore&#125;&#125;)(.^*)</span><br><span class="line"></span><br><span class="line"># Print out files that dont have extensions (require *setopt extendedglob*</span><br><span class="line"># and *setopt dotglob*)</span><br><span class="line">  $ printf &apos;%s</span><br><span class="line">&apos; ^?*.*</span><br><span class="line"></span><br><span class="line"># List files in reverse order sorted by name</span><br><span class="line">  $ print -rl -- *(On)</span><br><span class="line">  or</span><br><span class="line">  $ print -rl -- *(^on)</span><br><span class="line"></span><br><span class="line"># Synonymic to ``ps ax | awk &apos;&#123;print $1&#125;</span><br></pre></td></tr></table></figure>
<p>  $ print -l /proc/*/cwd(:h:t:s/self//)</p>
<h1><span id="get-the-pid-of-a-process-without-ps-39-39-sed-pgrep">Get the PID of a process (without <code>ps&#39;&#39;,</code>sed’’, ``pgrep’’, ..</span></h1><h1><span id="under-linux">(under Linux)</span></h1><p>  $ pid2 () {</p>
<blockquote>
<p>  local i<br>  for i in /proc/&lt;-&gt;/stat<br>do<br>  [[ “$(&lt; $i)” = <em>((${(j:|:)~@}))</em> ]] &amp;&amp; echo $i:h:t<br>done<br>}</p>
</blockquote>
<h1><span id="for-x-in-n-o-p-q-r-s-t-u-v-w-x-y-do">for X in ‘n’ ‘o’ ‘p’ ‘q’ ‘r’ ‘s’ ‘t’ ‘u’ ‘v’ ‘w’ ‘x’ ‘y’; do …</span></h1><p>  $ for (( i = 36#n; i &lt;= 36#y; i++ )); do</p>
<blockquote>
<p>  print ${$(([##36]i)):l}<br>done</p>
<h1><span id="or-in-combination-with-dc">or in combination with ``dc’’</span></h1><p>  $ print {$((##n))..$((##y))}P 10P | dc</p>
<h1><span id="or-with-eval">or with ``eval’’</span></h1><p>  $ eval print ‘${$(([##36]’{$((36#n))..$((36#y))}’)):l}’</p>
</blockquote>
<h1><span id="foreach-in-one-line-of-shell">foreach in one line of shell</span></h1><p>  $ for f (*) print -r – $f</p>
<h1><span id="copy-a-directory-recursively-without-data-files">copy a directory recursively without data/files</span></h1><p>  $ dirs=(<em>*/</em>(/))<br>  $ cd – $dest_root<br>  $ mkdir -p – $dirs</p>
<h1><span id="or-without-zsh">or without zsh</span></h1><p>  $ find . -type d -exec env d=”$dest_root”<br>    sh -c ‘ exec mkdir -p – “$d/$1”‘ ‘{}’ ‘{}’ ;</p>
<h1><span id="if-foo-23-then-print-with-10-digit-with-leading-0">If `foo=23’’, then print with 10 digit with leading ‘0’.</span></h1><p>  $ foo=23<br>  $ print ${(r:10::0:)foo}</p>
<h1><span id="find-the-name-of-all-the-files-in-their-home-directory-that-have">find the name of all the files in their home directory that have</span></h1><h1><span id="more-than-20-characters-in-their-file-names">more than 20 characters in their file names</span></h1><p>  print -rl $HOME/${(l:20::?:)~:-}*</p>
<h1><span id="save-arrays">Save arrays</span></h1><p>  $ print -r – ${(qq)m} &gt; $nameoffile      # save it<br>  $ eval “m=($(cat – $nameoffile)”            # or use<br>  $ m=(“${(@Q)${(z)”$(cat – $nameoffile)”}}”) # to restore it</p>
<h1><span id="get-a-ls-l-on-all-the-files-in-the-tree-that-are-younger-than-a">get a “ls -l” on all the files in the tree that are younger than a</span></h1><h1><span id="specified-age-e-g-ls-l-all-the-files-in-the-tree-that-where">specified age (e.g “ls -l” all the files in the tree that where</span></h1><h1><span id="modified-in-the-last-2-days">modified in the last 2 days)</span></h1><p>  $ ls -tld <em>*/</em>(m-2)</p>
<h1><span id="this-will-give-you-a-listing-1-file-perl-line-not-a-la-ls-r">This will give you a listing 1 file perl line (not à la ls -R).</span></h1><h1><span id="think-of-an-easy-way-to-have-a-ls-r-style-output-with">Think of an easy way to have a “ls -R” style output with</span></h1><h1><span id="only-files-newer-than-2-day-old">only files newer than 2 day old.</span></h1><p>  $ for d (. ./<em>*/</em>(/)) {</p>
<blockquote>
<p>  print -r – $’<br>‘${d}:<br>  cd $d &amp;&amp; {<br>      l=(*(Nm-2))<br>      (($#l)) &amp;&amp; ls -ltd – $l<br>      cd ~-<br>  }<br>}</p>
<h1><span id="if-you-also-want-directories-to-be-included-even-if-their-mtime">If you also want directories to be included even if their mtime</span></h1><h1><span id="is-more-than-2-days-old">is more than 2 days old:</span></h1><p>  $ for d (. ./<em>*/</em>(/)) {<br>  print -r – $’<br>‘${d}:<br>  cd $d &amp;&amp; {<br>     l=(*(N/,m-2))<br>     (($#l)) &amp;&amp; ls -ltd – $l<br>     cd ~-<br>  }<br>}</p>
<h1><span id="and-if-you-want-only-the-directories-with-mtime-lt-2-days-to-be-listed">And if you want only the directories with mtime &lt; 2 days to be listed:</span></h1><p>  $ for d (. ./<em>*/</em>(N/m-2)) {<br>  print -r – $’<br>‘${d}:<br>  cd $d &amp;&amp; {<br>     l=(*(Nm-2))<br>     (($#l)) &amp;&amp; ls -ltd – $l<br>     cd ~-<br>  }<br>}</p>
</blockquote>
<h1><span id="print-42">print 42 ``-‘’</span></h1><p>  $ echo ${(l:42::-:)}</p>
<h1><span id="or-use-colums">or use ``$COLUMS’’</span></h1><p>  $ echo ${(l:$COLUMNS::-:)}</p>
<h1><span id="and-now-with-colors-require-autoload-colors-colors">and now with colors (require autoload colors ;colors)</span></h1><p>  $ echo “$bg[red]$fg[black]${(l:42::-:)}”</p>
<h1><span id="redirect-stderr-to-a-command-like-xless-without-redirecting-stdout-as-well">Redirect STDERR to a command like xless without redirecting STDOUT as well.</span></h1><p>  $ foo 2&gt;&gt;(xless)</p>
<h1><span id="but-this-executes-the-command-asynchronously-to-do-it-synchronously">but this executes the command asynchronously. To do it synchronously:</span></h1><p>  $ { { foo 1&gt;&amp;3 } 2&gt;&amp;1 | xless } 3&gt;&amp;1</p>
<h1><span id="rename-all-mp3-files-from-name-with-spaces-mp3-to-name-with-spaces-mp3">Rename all MP3-Files from name with spaces.mp3 to Name With Spaces.mp3</span></h1><p>  $ for i in *.mp3; do</p>
<blockquote>
<pre><code>mv $i ${${(C)i}:s/Mp3/mp3/}
</code></pre><p>done</p>
</blockquote>
<h1><span id="match-file-names-containing-only-digits-and-ending-with-xml-require">Match file names containing only digits and ending with .xml (require</span></h1><h1><span id="setopt-kshglob"><em>setopt kshglob</em>)</span></h1><p>  $ ls -l [0-9]##.xml<br>  $ ls -l <0->.xml</0-></p>
<h1><span id="remove-all-non-txt-files">Remove all “non txt” files</span></h1><p>  $ rm ./^*.txt</p>
<h1><span id="move-200-files-from-a-directory-into-another">Move 200 files from a directory into another</span></h1><p>  $ mv – *([1,200]) /another/Dir</p>
<h1><span id="convert-images-foo-gif-gt-foo-png">Convert images (foo.gif =&gt; foo.png):</span></h1><p>  $ for i in <em>*/</em>.gif; convert $i $i:r.png</p>
<h1><span id="convert-a-collection-of-mp3-files-to-wave-or-cdr">convert a collection of mp3 files to wave or cdr,</span></h1><h1><span id="e-g-file-wav-gt-file-mp3">e.g. file.wav -&gt; file.mp3)</span></h1><p>  $ for i (./*.mp3){mpg321 –w - $i &gt; ${i:r}.wav}</p>
<h1><span id="download-with-latex2html-created-files-for-example-the-zsh-guide">Download with LaTeX2HTML  created Files (for example the ZSH-Guide):</span></h1><p>  $ for f in <a href="http://zsh.sunsite.dk/Guide/zshguide{,{01..08}}.html" target="_blank" rel="noopener">http://zsh.sunsite.dk/Guide/zshguide{,{01..08}}.html</a>; do</p>
<blockquote>
<pre><code>lynx -source $f &gt;${f:t}
</code></pre><p>done</p>
</blockquote>
<h1><span id="move-all-files-in-dir1-and-dir2-that-have-line-counts-greater-than-10-to">Move all files in dir1 and dir2 that have line counts greater than 10 to</span></h1><h1><span id="another-directory-say-more10">another directory say “/more10”</span></h1><p>  $ mv dir[12]/<em>*/</em>.cr(-.e{‘((<code>wc -l &lt; $REPLY</code> &gt; 10))’}) /more10</p>
<h1><span id="make-with-dpkg-a-master-list-of-everyfile-that-it-has-installed">Make with dpkg a master-list of everyfile that it has installed</span></h1><p>  $ diff &lt;(find / | sort) &lt;(cat /var/lib/dpkg/info/*.list | sort)</p>
<h1><span id="replace-this-fucking-escape-sequences">Replace this fucking Escape-Sequences:</span></h1><p>  $ autoload colors ; colors<br>  $ print “$bg[cyan]$fg[blue]You are a idiot” &gt;&gt; /dev/pts/3</p>
<h1><span id="get-ascii-value-of-a-character">Get ASCII value of a character</span></h1><p>  $ char=N ; print $((#char))</p>
<h1><span id="filename-erweiterung">Filename “Erweiterung”</span></h1><h1><span id="note-the-n-says-to-use-the-nullglob-option-for-this-particular">Note: The (N) says to use the nullglob option for this particular</span></h1><h1><span id="glob-pattern">glob pattern.</span></h1><p>  $ for i in *.o(N); do</p>
<blockquote>
<pre><code>rm $i
</code></pre><p>done</p>
</blockquote>
<h1><span id="rename-files-i-e-foo-to-foo-and-bar-to-bar">Rename files; i. e. FOO to foo and bar to BAR</span></h1><p>  $ for i in <em>(.); mv $i ${i:l} # <code>FOO&#39; to</code>foo’<br>  $ for i in </em>(.); mv $i ${i:u} # <code>bar to</code>BAR’</p>
<h1><span id="show-all-suid-files-in-path">Show all suid-files in $PATH</span></h1><p>  $ ls -latg ${(s.:.)PATH} | grep ‘^…s’</p>
<h1><span id="or-more-complex">or more complex ;)</span></h1><p>  $ print -l ${^path}/*(Ns,S)</p>
<h1><span id="or-show-only-executables-with-a-user-given-pattern">or show only executables with a user given pattern</span></h1><p>  $ print -l ${^path}/<em>vim</em>(*N)</p>
<h1><span id="gzip-files-when-containing-a-certain-string">gzip files when containing a certain string</span></h1><p>  $ gzip ${(ps:<br>:)”$(grep -lZ foobar ./*.txt(.))”}</p>
<h1><span id="a-small-one-liner-that-reads-from-stdin-and-prints-to-stdout-the-first">A small  one-liner, that reads from stdin and prints to stdout the first</span></h1><h1><span id="unique-line-i-e-does-not-print-lines-that-have-been-printed-before">unique line i. e. does not print lines that have been printed before</span></h1><h1><span id="this-is-similar-to-the-unique-command-but-unique-can-only-handle">(this is similar to the unique command, but unique can only handle</span></h1><h1><span id="adjacent-lines">adjacent lines).</span></h1><p>  $ IFS=$’</p>
<p>‘; print -rl – ${(Oau)${(Oa)$(cat file;echo .)[1,-2]}}</p>
<h1><span id="lists-every-executable-in-path">Lists every executable in PATH</span></h1><p>  $ print -l ${^path}/<em>(-</em>N)</p>
<h1><span id="match-all-c-files-in-all-subdirectories-except-any-sccs-subdirectories">Match all .c files in all subdirectories, <em>except</em> any SCCS subdirectories?</span></h1><p>  $ ls <em>*/</em>.c~(<em>/)#SCCS/</em></p>
<h1><span id="list-all-readme-files-case-insensitive-with-max-one-typo">List all `README’ - files case-insensitive with max. one typo</span></h1><p>  $ ls <em>*/</em>(#ia2)readme</p>
<h1><span id="case-insensitive-checking-for-variables">case insensitive checking for variables</span></h1><p>  $ if [[ $OSTYPE == (#i)LINUX*(#I) ]]; then</p>
<blockquote>
<p>   echo “Penguin on board.”<br>else<br>   echo “Not a Linux.”<br>fi<br>(Recursive) Globbing - Examples<br>A list of valid glob Qualifiers can be found in zshexpn(1). Note: <em>*/ is equivalent to (</em>/)#! For example:</p>
</blockquote>
<p>$ print (<em>/)#zsh_us.ps<br>zsh-4.2.3/Doc/zsh_us.ps<br>$ print *</em>/zsh_us.ps<br>zsh-4.2.3/Doc/zsh_us.ps</p>
<h1><span id="search-for-readme-in-all-subdirectories">Search for `README’ in all Subdirectories</span></h1><p>  $ ls -l **/README</p>
<h1><span id="find-directories-that-contain-both-index-php-and-index-html-or-in">find directories that contain both “index.php” and “index.html”, or in</span></h1><h1><span id="general-directories-that-contain-more-than-one-file-matching-index">general, directories that contain more than one file matching “index.*”</span></h1><p>  $ ls <em>*/</em>(D/e:’[[ -e $REPLY/index.php &amp;&amp; -e $REPLY/index.html ]]’:)</p>
<h1><span id="or">or</span></h1><p>  $ ls <em>*/</em>(D/e:’l=($REPLY/index.*(N)); (( $#l &gt;= 2 ))’:)</p>
<h1><span id="find-command-to-search-for-directory-name-instead-of-basename">Find command to search for directory name instead of basename</span></h1><p>  $ print -rl /<em>*/</em>~^<em>/path(|/</em>)</p>
<h1><span id="or-without-zsh">or - without Zsh</span></h1><p>  $ find / | grep -e /path/ -e ‘/path$’</p>
<h1><span id="print-he-path-of-the-directories-holding-the-ten-biggest-c-regular-files">Print he path of the directories holding the ten biggest C regular files</span></h1><h1><span id="in-the-current-directory-and-subdirectories">in the current directory and subdirectories.</span></h1><p>  $ print -rl – <em>*/</em>.c(D.OL[1,10]:h) | sort -u</p>
<h1><span id="find-files-with-size-0-and-send-a-mail">Find files with size == 0 and send a mail</span></h1><p>  $ files=(<em>*/</em>(ND.L0m+0m-2))</p>
<blockquote>
<p>(( $#files &gt; 0 )) &amp;&amp; print -rl – $files |<br>    mailx -s “empty files” foo@bar.tdl</p>
</blockquote>
<h1><span id="recursive-chmod">recursive chmod</span></h1><p>  $ chmod 700 <strong>/(.) # Only files<br>  $ chmod 700 </strong>/(/) # Only directories</p>
<h1><span id="print-out-all-of-the-files-in-that-directory-in-2-columns">print out all of the files in that directory in 2 columns</span></h1><p>  $ print -rC2 – ${1:[…]}/*(D:t)</p>
<h1><span id="number-ob-columns">^- number ob columns</span></h1><h1><span id="or-if-you-feel-concerned-about-special-characters-use">or - if you feel concerned about special characters - use</span></h1><p>  $ list=(${1:[…]}/*(ND:t))<br>  $ (($#list)) &amp;&amp; print -rC2 – ${(V)list}</p>
<h1><span id="search-all-files-in-home-mail-with-a-setting-chmod-s-flag">Search all files in /home/<em>/</em>-mail/ with a setting ``chmod -s’’ flag</span></h1><h1><span id="recursive-include-dotfiles-remove-the-setgid-setuid-flag-and-print">(recursive, include  dotfiles) remove the setgid/setuid flag and print</span></h1><h1><span id="a-message">a message</span></h1><p>  $ chmod -s /home/<em>/</em>-mail(DNs,S) /home/<em>/</em>-mail/<em>*/</em>(DNs,S))</p>
<h1><span id="or-with-a-small-script">or with a small script</span></h1><p>  $ for file (/home/<em>/</em>-mail(DNs,S) /home/<em>/</em>-mail/<em>*/</em>(DNs,S)) {</p>
<blockquote>
<p>   print -r – $file<br>   chmod -s $file &amp;&amp; print -r fixed $file<br>}</p>
<h1><span id="or-use-zargs-require-autoload-zargs-prevent-the-arg-list-too">or use ``zargs’’ (require autoload zargs) prevent the arg list too</span></h1><h1><span id="long-error">long error</span></h1><p>  $ zargs /home/<em>/</em>-mail(DNs,S) /home/<em>/</em>-mail/<em>*/</em>(DNs,S)) – chmod -s</p>
</blockquote>
<h1><span id="list-files-beginning-at-foo23-upwards-foo23-foo24-foo25">List files beginning at `foo23’ upwards (foo23, foo24, foo25, ..)</span></h1><p>  $ ls -l foo<23-></23-></p>
<h1><span id="get-all-files-that-begin-with-the-date-strings-from-june-4-through">get all files that begin with the date strings from June 4 through</span></h1><h1><span id="june-9-of-2004">June 9 of 2004</span></h1><p>  $ ls -l 200406{04..10}*(N)</p>
<h1><span id="or-if-they-are-of-the-form-200406xx-require-setopt-extended-glob">or if they are of the form 200406XX (require ``setopt extended_glob’’</span></h1><p>  $ ls -l 200306<4-10>.*</4-10></p>
<h1><span id="remove-spaces-from-filenames">remove spaces from filenames</span></h1><p>  $ for a in ./<em>*/</em> *(Dod); do mv $a ${a:h}/${a:t:gs/ /_}; done</p>
<h1><span id="show-only-all-c-and-h-files">Show only all <em>.c and </em>.h - Files</span></h1><p>  $ ls -l *.(c|h)</p>
<h1><span id="show-only-all-c-files-and-ignore-foo-c">Show only all *.c - files and ignore `foo.c’</span></h1><p>  $ ls *.c~foo.c</p>
<h1><span id="show-data-to-really-binary-format">show data to <em>really</em> binary format</span></h1><p>  $ zsh -ec ‘while {} {printf %.8x $n;repeat 8 </p>
<blockquote>
<p>{read -ku0 a printf  %.8d $(([##2]#a))};print;((n+=8))}’ &lt; binary</p>
</blockquote>
<h1><span id="show-only-world-readable-files">Show only world-readable files</span></h1><p>  $ ls -l *(R)</p>
<h1><span id="list-files-in-the-current-directory-are-not-writable-by-the-owner">List files in the current directory are not writable by the owner</span></h1><p>  $ print -l ~/*(ND.^w)</p>
<h1><span id="find-and-delete-the-files-which-are-older-than-a-given-parameter">find and delete the files which are older than a given parameter</span></h1><h1><span id="seconds-minutes-hours">(seconds/minutes/hours)</span></h1><h1><span id="deletes-all-regular-file-in-dir-that-are-older-than-3-hours">deletes all regular file in /Dir that are older than 3 hours</span></h1><p>   $ rm -f /Dir/<em>*/</em>(.mh+3)</p>
<h1><span id="deletes-all-symlinks-in-dir-that-are-older-than-3-minutes">deletes all symlinks in /Dir that are older than 3 minutes</span></h1><p>   $ rm -f /Dir/<em>*/</em>(@mm+3)</p>
<h1><span id="deletes-all-non-dirs-in-dir-that-are-older-than-30-seconds">deletes all non dirs in /Dir that are older than 30 seconds</span></h1><p>   $ rm -f /Dir/<em>*/</em>(ms+30^/)</p>
<h1><span id="deletes-all-folders-sub-folders-and-files-older-than-one-hour">deletes all folders, sub-folders and files older than one hour</span></h1><p>   $ rm ./<em>*/</em>(.Dmh+1,.DL0)</p>
<h1><span id="deletes-all-files-more-than-6-hours-old">deletes all files more than 6 hours old</span></h1><p>   $ rm -f <em>*/</em>(mh+6)</p>
<h1><span id="removes-all-files-but-the-ten-newer-ones-delete-all-but-last-10">removes all files but the ten newer ones (delete all but last 10</span></h1><h1><span id="files-in-a-directory">files in a directory)</span></h1><p>   $ rm ./<em>(Om[1,-11])<br> Note: If you get a arg list too long, you use the builtin rm. For<br>       example:<br>   $ zmodload zsh/files ; rm -f **/</em>(mh+6)<br>  or use the zargs function:<br>   $ autoload zargs ; zargs <em>*/</em>(mh+6) – rm -f</p>
<h1><span id="a-user-s-guide-to-the-z-shell-5-9-filename-generation-and-pattern">A User’s Guide to the Z-Shell /5.9: Filename Generation and Pattern</span></h1><h1><span id="matching-find-all-files-in-all-subdirectories-searching-recursively">Matching find all files in all subdirectories, searching recursively,</span></h1><h1><span id="which-have-a-given-name-case-insensitive-are-at-least-50-kb-large">which have a given name, case insensitive, are at least 50 KB large,</span></h1><h1><span id="no-more-than-a-week-old-and-owned-by-the-root-user-and-allowing-up">no more than a week old and owned by the root user, and allowing up</span></h1><h1><span id="to-a-single-error-in-the-spelling-of-the-name-in-fact-the-required">to a single error in the spelling of the name. In fact, the required</span></h1><h1><span id="expression-looks-like-this">expression looks like this:</span></h1><p>  $ ls **/(#ia1)name(LK+50mw-1u0)</p>
<h1><span id="change-the-uid-from-102-to-666">Change the UID from 102 to 666</span></h1><p>  $ chown 666 <em>*/</em>(u102)</p>
<h1><span id="list-all-files-which-have-not-been-updated-since-last-10-hours">List all files which have not been updated since last 10 hours</span></h1><p>  $ print -rl – *(Dmh+10^/)</p>
<h1><span id="delete-only-the-oldest-file-in-a-directory">delete only the oldest file in a directory</span></h1><p>  $ rm ./<em>filename</em>(Om[1])</p>
<h1><span id="sort-the-output-from-ls-l-by-file-size">Sort the output from `ls -l’ by file size</span></h1><p>  $ ls -fld *(OL)</p>
<h1><span id="find-most-recent-file-in-a-directory">find most recent file in a directory</span></h1><p>  $ setopt dotglob ; print directory/<em>*/</em>(om[1])</p>
<h1><span id="show-only-empty-files-which-nor-group-39-orworld-writable">Show only empty files which nor <code>group&#39; or</code>world writable’</span></h1><p>  $ ls *(L0f.go-w.)</p>
<h1><span id="find-and-list-the-ten-newest-files-in-directories-and-subdirs">Find - and list - the ten newest files in directories and subdirs.</span></h1><h1><span id="recursive">(recursive)</span></h1><p>  $ print -rl – <em>*/</em>(Dom[1,10])</p>
<h1><span id="print-only-5-lines-by-ls-command-like-ls-las-head-n-5">Print only 5 lines by “ls” command (like ``ls -laS | head -n 5’’).</span></h1><p>  $ ls -fl *(DOL[1,5])</p>
<h1><span id="display-the-5-10-last-modified-files">Display the 5-10 last modified files.</span></h1><p>  $ print -rl – /path/to/dir/<em>*/</em>(D.om[5,10])</p>
<h1><span id="find-all-files-without-a-valid-owner">Find all files without a valid owner.</span></h1><p>  $ chmod someuser /<em>*/</em>(D^u:${(j.:u:.)${(f)”$(&lt;/etc/passwd)”}%%:*}:)</p>
<h1><span id="find-all-the-empty-directories-in-a-tree">Find all the empty directories in a tree.</span></h1><p>  $ for f in <em>**/</em>(/l2); do foo=($f/*(N)); [[ -z $foo ]] &amp;&amp; print $f; done</p>
<h1><span id="note-since-zsh-4-2-1-the-glob-qualifier-f-indicates-a-non-empty-directory">Note:Since Zsh 4.2.1 the glob qualifier F indicates a non-empty directory.</span></h1><h1><span id="hence-f-indicates-all-subdirectories-with-entries-f-means-all">Hence <em>(F) indicates all subdirectories with entries, </em>(/^F) means all</span></h1><h1><span id="subdirectories-with-no-entries">subdirectories with no entries.</span></h1><p>  $ ls -ld *(/^F)</p>
<h1><span id="remove-empty-directories-afterwards">Remove empty directories afterwards.</span></h1><p>  $ rmdir ./<em>*/</em>(/od) 2&gt; /dev/null</p>
<h1><span id="show-only-files-which-are-owned-by-group-users">Show only files which are owned by group `users’.</span></h1><p>  $ ls -l *(G[users])<br>Modifiers usage<br>Modifiers are a powerful mechanism that let you modify the results returned by parameter, filename and history expansion. See zshexpn(1) for details.</p>
<h1><span id="note-zsh-4-3-4-needed">NOTE: Zsh 4.3.4 needed!</span></h1><p>  $ autoload -U age</p>
<h1><span id="files-modified-today">files modified today</span></h1><p>  $ print *(e:age today now:)</p>
<h1><span id="files-modified-since-5-pm">files modified since 5 pm</span></h1><p>  $ print *(e-age 17:00 now-)</p>
<h1><span id="since-5-o-clock-yesterda">… since 5 o’clock yesterda</span></h1><p>  $ print *(e-age yesterday,17:00 now-)</p>
<h1><span id="from-last-christmas-before-today">… from last Christmas before today</span></h1><p>  $ print *(e-age 2006/12/25 today-)</p>
<h1><span id="before-yesterday">… before yesterday</span></h1><p>  $ print *(e-age 1970/01/01 yesterday-)</p>
<h1><span id="all-files-modified-between-the-start-of-those-dates">all files modified between the start of those dates</span></h1><p>  $ print *(e:age 2006/10/04 2006/10/09:)</p>
<h1><span id="all-files-modified-on-that-date">all files modified on that date</span></h1><p>  $ print *(e:age 2006/10/04:)</p>
<h1><span id="supply-times">Supply times.</span></h1><p>  $ print *(e-age 2006/10/04:10:15 2006/10/04:10:45-)</p>
<h1><span id="remove-a-trailing-pathname-component-leaving-the-head-this-works-like">Remove a trailing pathname component, leaving the head. This works like</span></h1><h1><span id="dirname">`dirname’.</span></h1><p>  $ echo =ls(:h)<br>  /bin</p>
<h1><span id="remove-all-leading-pathname-components-leaving-the-tail-this-works">Remove all leading pathname components, leaving the tail. This works</span></h1><h1><span id="like-basename">like `basename’.</span></h1><p>  $ echo =ls(:t)<br>  ls</p>
<h1><span id="remove-the-suffix-from-each-file-sh-in-this-example">Remove the suffix from each file (*.sh in this example)</span></h1><p>   $f:e is $f file extension<br>   :h –&gt; head (dirname)<br>   :t –&gt; tail (basename)<br>   :r –&gt; rest (extension removed)<br>  $ for f (*.sh) mv $f $f:r</p>
<h1><span id="remove-a-filename-extension-of-the-form-xxx-leaving-the-root-name">Remove a filename extension of the form `.xxx’, leaving the root name.</span></h1><p>  $ echo $PWD<br>  /usr/src/linux<br>  $ echo $PWD:t<br>  linux</p>
<h1><span id="remove-all-but-the-extension">Remove all but the extension.</span></h1><p>  $ foo=23.42<br>  $ echo $foo<br>  23.42<br>  $ echo $foo:e<br>  42</p>
<h1><span id="print-the-new-command-but-do-not-execute-it-only-works-with-history">Print the new command but do not execute it. Only works with history</span></h1><h1><span id="expansion">expansion.</span></h1><p>  $ echo =ls(:h)<br>  /bin<br>  $ !echo:p<br>  $ echo =ls(:h)</p>
<h1><span id="quote-the-substituted-words-escaping-further-substitutions">Quote the substituted words, escaping further substitutions.</span></h1><p>  $ bar=”23’42”<br>  $ echo $bar<br>  23’42<br>  $ echo $bar:q<br>  23’42</p>
<h1><span id="convert-the-words-to-all-lowercase">Convert the words to all lowercase.</span></h1><p>  $ bar=FOOBAR<br>  $ echo $bar<br>  FOOBAR<br>  $ echo $bar:l<br>  foobar</p>
<h1><span id="convert-the-words-to-all-uppercase">Convert the words to all uppercase.</span></h1><p>  $ bar=foobar<br>  $ echo $bar<br>  foobar<br>  $ echo $bar:u<br>  FOOBAR</p>
<h1><span id="convert-1st-char-of-a-word-to-uppercase">convert 1st char of a word to uppercase</span></h1><p>  $ foo=”one two three four”<br>  $ print -r – “${(C)foo}”<br>  One Two Three Four<br>Redirection-Examples<br>See zshmisc(1) for more informations (or less ${^fpath}/zmv(N))</p>
<h1><span id="append-exit-1-at-the-end-of-all-sh-files">Append `exit 1’ at the end of all *.sh - files</span></h1><p>  $ echo “exit 1” &gt;&gt; *.sh</p>
<h1><span id="adding-files-to-foobar-tar-gz">adding files to foobar.tar.gz</span></h1><p>  $ eval set =(gunzip &lt; foobar.tar.gz) ‘<br>     tar rf $1 additional.txt &amp;&amp;gzip &lt; $1 &gt; foobar.tar.gz’</p>
<h1><span id="redirect-output-to-a-file-and-display-on-screen">Redirect output to a file AND display on screen</span></h1><p>  $ foobar &gt;&amp;1 &gt; file1 &gt; file2 &gt; ..</p>
<h1><span id="pipe-single-output-to-multiple-inputs">pipe single output to multiple inputs</span></h1><p>  $ zcat foobar.Z &gt;&gt; (gzip -9 &gt; file1.gz) </p>
<pre><code>&gt;&gt; (bzip2 -9 &gt; file1.bz2) 
&gt;&gt; (acb --best &gt; file1.acb)
</code></pre><h1><span id="append-etc-services-at-the-end-of-file-foo-39-andbar">Append /etc/services at the end of file <code>foo&#39; and</code>bar’</span></h1><p>  $ cat /etc/services &gt;&gt; foo &gt;&gt; bar</p>
<h1><span id="pipe-stderr">Pipe STDERR</span></h1><p>  $ echo An error &gt;&amp;2 2&gt;&amp;1 | sed -e ‘s/A/I/‘</p>
<h1><span id="send-standard-output-of-one-process-to-standard-input-of-several-processes">send standard output of one process to standard input of several processes</span></h1><h1><span id="in-the-pipeline">in the pipeline</span></h1><p>  $ setopt multios<br>  $ process1 &gt; &gt;(process1) &gt; &gt;(process2)</p>
<h1><span id="initializing-a-variable-and-simultaneously-keeping-terminal-output">initializing a variable and simultaneously keeping terminal output</span></h1><p>  $ setopt multios<br>  $ { a=$(command &gt;&amp;1 &gt;&amp; 3 3 &gt; &amp;- 2&gt;&amp;1);} 3&gt;&amp;1</p>
<h1><span id="redirect-stderr-two-times">redirect stderr two times</span></h1><p>  $ setopt multios ; program 2&gt; file2 &gt; file1 2&gt;&amp;1</p>
<h1><span id="duplicating-stdout-and-stderr-to-a-logfile">Duplicating stdout and stderr to a logfile</span></h1><p>  $ exec 3&gt;&amp;1 &gt; logfile 2&gt;&amp;2 2&gt;&amp;1 &gt;&amp;3 3&gt;&amp;-</p>
<h1><span id="redirect-stderr-only-to-a-file-and-to-orig-stderr">redirect stderr (only) to a file and to orig. stderr:</span></h1><p>  $ command 2&gt;&amp;2 2&gt;stderr</p>
<h1><span id="redirect-stderr-and-stdout-to-separate-files-and-both-to-orig-stdout">redirect stderr and stdout to separate files and both to orig. stdout:</span></h1><p>  $ command 2&gt;&amp;1 1&gt;&amp;1 2&gt;stderr 1&gt;stdout</p>
<h1><span id="redirect-stderr-and-stdout-to-separate-files-and-stdout-to-orig-stdout">redirect stderr and stdout to separate files and stdout to orig. stdout</span></h1><h1><span id="and-stderr-to-orig-stderr">AND stderr to orig. stderr:</span></h1><p>  $ command 2&gt;&amp;2 1&gt;&amp;1 2&gt;stderr 1&gt;stdout</p>
<h1><span id="more-fun-with-stderr">More fun with STDERR ;)</span></h1><p>  $ ./my-script.sh 2&gt; &gt;(grep -v moron &gt;error.log)|process-output &gt;output.log<br>  $  echo “Thats STDOUT” &gt;&gt;(sed ‘s/stdout/another example/‘ &gt; foobar)<br>ZMV-Examples (require autoload zmv)<br>Note: -n means no execution (just print what would happen). At</p>
<h1><span id="remove-illegal-characters-in-a-fat32-file-system-illegal-characters-are">Remove illegal characters in a fat32 file system. Illegal characters are</span></h1><h1><span id="lt-gt">/ :  ;  *  ?  “  &lt;  &gt;  |</span></h1><h1><span id="note-q-and-d-is-to-include-hidden-files">NOTE: ``-Q’’ and (D) is to include hidden files.</span></h1><p>  $ unwanted=’[:;<em>?”&lt;&gt;|]’<br>  $ zmv -Q “(**/)(</em>$~unwanted*)(D)” ‘$1${2//$~unwanted/}’</p>
<h1><span id="changing-part-of-a-filename-i-e-file-hell-name-gt-file-heaven-name">Changing part of a filename (i. e. “file-hell.name” -&gt; “file-heaven.name”)</span></h1><p>  $ zmv ‘(<em>)hell(</em>)’ ‘${1}heaven${2}’</p>
<h1><span id="or">or</span></h1><p>  $ zmv ‘*’ ‘$f:s/hell/heaven/‘</p>
<h1><span id="remove-round-bracket-within-filenames">remove round bracket within filenames</span></h1><h1><span id="i-e-foo-bar-avi-gt-foo-bar-avi">i. e. foo-(bar).avi -&gt; foo-bar.avi</span></h1><p>  $ zmv ‘*’ ‘${f//[()]/}’</p>
<h1><span id="serially-all-files-foo-foo-gt-1-foo-fnord-foo-gt-2-foo">serially all files (foo.foo &gt; 1.foo, fnord.foo &gt; 2.foo, ..)</span></h1><p>  $ autoload zmv<br>  $ ls <em><br>  1.c  asd.foo  bla.foo  fnord.foo  foo.fnord  foo.foo<br>  $ c=1 zmv ‘</em>.foo’ ‘$((c++)).foo’<br>  $ ls *<br>  1.c  1.foo  2.foo  3.foo  4.foo  foo.fnord</p>
<h1><span id="rename-file-with-many-dots-txt-by-substituting-dots-exept-for-the-last">Rename “file.with.many.dots.txt” by substituting dots (exept for the last</span></h1><h1><span id="one-with-a-space">one!) with a space</span></h1><p>  $ touch {1..20}-file.with.many.dots.txt<br>  $ zmv ‘(<em>.</em>)(.*)’ ‘${1//./ }$2’</p>
<h1><span id="remove-the-first-4-chars-from-a-filename">Remove the first 4 chars from a filename</span></h1><p>  $ zmv -n ‘*’ ‘$f[5,-1]’ # NOTE: The “5” is NOT a mistake in writing!</p>
<h1><span id="rename-names-of-all-files-under-the-current-dir-to-lower-case-but-keep">Rename names of all files under the current Dir to lower case, but keep</span></h1><h1><span id="dirnames-as-is">dirnames as-is.</span></h1><p>  $ zmv -Qv ‘(<em>*/)(</em>)(.D)’ ‘$1${(L)2}’</p>
<h1><span id="replace-all-4th-character-which-is-1-with-2-and-so-on">replace all 4th character, which is “1”,  with “2” and so on</span></h1><p>  $ autoload -U zmv<br>  $ zmv ‘(???)1(???[1-4].txt)’ ‘${1}2${2}’</p>
<h1><span id="remove-the-first-15-characters-from-a-string">Remove the first 15 characters from a string</span></h1><p>  $ touch 111111111111111{a-z}<br>  $ autoload zmv<br>  $ zmv ‘*’ ‘$f[16,-1]’</p>
<h1><span id="replace-spaces-any-number-of-them-with-a-single-dash-in-file-names">Replace spaces (any number of them) with a single dash in file names</span></h1><p>  $ autload zmv<br>  $ zmv -n ‘(<em>*/)(</em> *)’ ‘$1${2//( #-## #| ##)/-}’</p>
<h1><span id="or-with-bash">or - with Bash</span></h1><p>  $ find . -depth -name ‘<em> </em>‘ -exec bash -c ‘</p>
<blockquote>
<p>shopt -s extglob<br>file=$1<br>dir=${file%/<em>}<br>name=${file##</em>/}<br>newname=${name//<em>([ -]) </em>([ -])/-}<br>mv -i – “$file” “$Dir/$newname”‘ {} {} ;</p>
</blockquote>
<h1><span id="clean-up-file-names-and-remove-special-characters">Clean up file names and remove special characters</span></h1><p>  $ autoload zmv<br>  $ zmv -n ‘(<em>*/)(</em>)’ ‘$1${2//[^A-Za-z0-9.<em>]/</em>}’</p>
<h1><span id="add-py-to-a-bunch-of-python-scripts-in-a-directory-some-of-them-end">Add *.py to a bunch of python scripts in a directory (some of them end</span></h1><h1><span id="in-py-and-give-them-all-a-proper-extension">in *.py and give them all a proper extension</span></h1><p>  $ autoload zmv<br>  $ zmv -n ‘(<em>*/)(con</em>)(#qe,file $REPLY | grep “python script”,)’ ‘$1$2.py’</p>
<h1><span id="lowercase-all-extensions-i-e-jpg-incl-subfolders">lowercase all extensions (i. e. *.JPG) incl. subfolders</span></h1><p>  $ autoload zmv<br>  $ zmv ‘(<em>*/)(</em>).(#i)jpg’ ‘$1$2.jpg’</p>
<h1><span id="or-without-zsh">Or - without Zsh</span></h1><p>  $ find Dir -name ‘*.[jJ][pP][gG]’ -print | while read f</p>
<blockquote>
<p>do<br>     case $f in<br>      <em>.jpg) ;
      </em>) mv “$f” “${f%.*}.jpg” ;<br>      esac<br>done</p>
</blockquote>
<h1><span id="remove-leading-zeros-from-file-extension">remove leading zeros from file extension</span></h1><p>  $ autoload zmv<br>  $ ls<br>  filename.001  filename.003  filename.005  filename.007  filename.009<br>  filename.002  filename.004  filename.006  filename.008  filename.010<br>  $ zmv ‘(filename.)0##(?*)’ ‘$1$2’<br>  $ ls<br>  filename.1  filename.10  filename.2  filename.3  filename.4  filename.5 ..</p>
<h1><span id="renumber-files">renumber files.</span></h1><p>  $ autoload zmv<br>  $ ls <em><br>  foo_10.jpg  foo_2.jpg  foo_3.jpg  foo_4.jpg  foo_5.jpg  foo<em>6.jpg ..<br>  $ zmv -fQ ‘foo</em>(<0->).jpg(.nOn)’ ‘foo_$(($1 + 1)).jpg’<br>  $ ls </0-></em><br>  foo_10.jpg  foo_11.jpg  foo_3.jpg  foo_4.jpg  foo_5.jpg  …</p>
<h1><span id="adding-leading-zeros-to-a-filename-1-jpg-gt-001-jpg">adding leading zeros to a filename (1.jpg -&gt; 001.jpg, ..</span></h1><p>  $ autoload zmv<br>  $ zmv ‘(<1->).jpg’ ‘${(l:3::0:)1}.jpg’</1-></p>
<h1><span id="see-above-but-now-only-files-with-a-filename-gt-30-chars">See above, but now only files with a filename &gt;= 30 chars</span></h1><p>  $ autoload zmv<br>  $ c=1 zmv “${(l:30-4::?:)}*.foo” ‘$((c++)).foo’</p>
<h1><span id="replace-spaces-in-filenames-with-a-underline">Replace spaces in filenames with a underline</span></h1><p>  $ autoload zmv<br>  $ zmv ‘<em> </em>‘ ‘$f:gs/ /_’</p>
<h1><span id="change-the-suffix-from-sh-to-pl">Change the suffix from <em>.sh to </em>.pl</span></h1><p>  $ autoload zmv<br>  $ zmv -W ‘<em>.sh’ ‘</em>.pl’</p>
<h1><span id="add-a-txt-extension-to-all-the-files-within-home">Add a “”.txt” extension to all the files within ${HOME}</span></h1><h1><span id="is-to-only-rename-regular-files-or-symlinks-to-regular-files">``-.’’ is to only rename regular files or symlinks to regular files,</span></h1><h1><span id="d-is-to-also-rename-hidden-files-dotfiles">``D’’ is to also rename hidden files (dotfiles))</span></h1><p>  $ autoload zmv<br>  $ zmv -Q ‘/home/<em>*/</em>(D-.)’ ‘$f.txt’</p>
<h1><span id="or-to-only-rename-files-that-don-t-have-an-extension">Or to only rename files that don’t have an extension:</span></h1><p>  $ zmv -Q ‘/home/<em>*/^?</em>.*(D-.)’ ‘$f.txt’</p>
<h1><span id="recursively-change-filenames-with-characters-lt-gt">Recursively change filenames with characters ? [ ] / = + &lt; &gt; ; : “ , - *</span></h1><p>  $ autoload zmv<br>  $ chars=’[][?=+&lt;&gt;;”,<em>-]’<br>  $ zmv ‘(**/)(</em>)’ ‘$1${2//$~chars/%}’</p>
<h1><span id="removing-single-quote-from-filenames-recursively">Removing single quote from filenames (recursively)</span></h1><p>  $ autoload zmv<br>  $ zmv -Q “(<em>*/)(</em>‘*)(D)” “$1${2//‘/}”</p>
<h1><span id="when-a-new-file-arrives-named-file-txt-rename-all-files-in-order-to">When a new file arrives (named file.txt) rename all files in order to</span></h1><h1><span id="get-e-g-file119-txt-becomes-file120-txt-file118-txt-becomes">get (e. g. file119.txt becomes file120.txt, file118.txt becomes</span></h1><h1><span id="file119-txt-and-so-on-ending-with-file-txt-becoming-file1-txt">file119.txt and so on ending with file.txt becoming file1.txt</span></h1><p>  $ autoload zmv<br>  $ zmv -fQ ‘file([0-9]##).txt(On)’ ‘file$(($1 + 1)).txt’</p>
<h1><span id="lowercase-uppercase-all-files-directories">lowercase/uppercase all files/directories</span></h1><p>  $ autoload zmv<br>  $ zmv ‘(<em>)’ ‘${(L)1}’ # lowercase<br>  $ zmv ‘(</em>)’ ‘${(U)1}’ # uppercase</p>
<h1><span id="remove-the-suffix-c-from-all-c-files">Remove the suffix *.c from all C-Files</span></h1><p>  $ autoload zmv<br>  $ zmv ‘(*).c’ ‘$1’</p>
<h1><span id="uppercase-only-the-first-letter-of-all-mp3-files">Uppercase only the first letter of all *.mp3 - files</span></h1><p>  $ autoload zmv<br>  $ zmv ‘([a-z])(*).mp3’ ‘${(C)1}$2.mp3’</p>
<h1><span id="copy-the-target-readme-39-in-same-directory-as-eachmakefile">Copy the target <code>README&#39; in same directory as each</code>Makefile’</span></h1><p>  $ autoload zmv<br>  $ zmv -C ‘(**/)Makefile’ ‘${1}README’</p>
<h1><span id="removing-single-quote-from-filenames-recursively">Removing single quote from filenames (recursively)</span></h1><p>  $ autoload zmv<br>  $ zmv -Q “(<em>*/)(</em>‘*)(D)” “$1${2//‘/}”</p>
<h1><span id="rename-pic1-jpg-pic2-jpg-to-pic0001-jpg-pic0002-jpg">Rename pic1.jpg, pic2.jpg, .. to pic0001.jpg, pic0002.jpg, ..</span></h1><p>  $ autoload zmv<br>  $ zmv ‘pic(<em>).jpg’ ‘pic${(l:4::0:)1}.jpg’<br>  $ zmv ‘(**/)pic(</em>).jpg’ ‘$1/pic${(l:4::0:)2}.jpg’ # recursively<br>Module-Examples<br>Please read zshmodules(1) first!</p>
<p>zsh/pcre (require zmodload zsh/pcre)</p>
<h1><span id="copy-files-of-a-certain-period-date-indicated-in-the-filenames">Copy files of a certain period (date indicated in the filenames)</span></h1><p>  $ zmodload zsh/pcre<br>  $ ls -d – *(e:’[[ $REPLY -pcre-match pcre-regexp ]]’:)</p>
<h1><span id="or">or</span></h1><p>  $ m() { [[ $1 -pcre-match pcre-regexp ]] }<br>  $ ls -d – *(+m)<br>zsh/clone (require zmodload zsh/clone)</p>
<h1><span id="creates-a-forked-instance-of-the-current-shell-is-set-to-zero-and">Creates a forked instance of the current shell ($! is set to zero) and</span></h1><h1><span id="execute-command-on-dev-tty8-for-this-example">execute ``command’’ on /dev/tty8 (for this example).</span></h1><p>  $ zmodload zsh/clone<br>  $ clone /dev/tty8 &amp;&amp; (($! == 0)) &amp;&amp; exec command<br>zsh/datetime (require zmodload zsh/datetime)</p>
<p>  $ zmodload zsh/datetime<br>  $ alias datereplacement=’strftime “%Y-%m-%d” $EPOCHSECONDS’<br>  $ export DATE=<code>datereplacement</code><br>  $ echo $DATE</p>
<h1><span id="strip-date-from-filename">strip date from filename</span></h1><p>  $ $ zmodload zsh/datetime<br>  $ setopt extendedglob<br>  $ touch aaa_bbb_20041212_c.dat eee_fff_20051019<em>g.dat<br>  $ strftime -s pattern<br>    ‘???</em>???<em><0-%y%m%d></0-%y%m%d></em>?.dat’ $((EPOCHSECONDS - 365 <em> 24 </em> 60 * 60 / 2))<br>  $ print -rl – $~pattern<br>  aaa_bbb_20041212<em>c.dat<br>  $ print -rl – $pattern<br>  ???</em>???<em><0-20050815></0-20050815></em>?.dat</p>
<h1><span id="search-files-size-0-to-be-based-on-the-file-name-containing-a-date">Search files size == 0, to be based on the file name containing a date</span></h1><h1><span id="rather-than-the-last-modified-date-of-the-file">rather than the “last modified” date of the file</span></h1><p>  $ zmodload -i zsh/datetime<br>  $ strftime -s file “abc<em>de</em>%m%d%Y.dat” $((EPOCHSECONDS - 24 <em> 60 </em> 60 ))<br>  $ files=(**/$file(N.L0))<br>  $ (( $#files &gt; 0 )) &amp;&amp; print -rl – $files |<br>    mailx -s “empty files”  foo@bar.tdl<br>zsh/stat (require zmodload zsh/stat)</p>
<h1><span id="test-if-a-symbolic-link-links-to-a-certain-file">test if a symbolic link links to a certain file</span></h1><p>  $ zmodload -i zsh/stat<br>  $ ! stat -LH s foo.ln || [[ $s[link] != “foo.exe” ]] || ln -sf foo.exe foo.ln</p>
<h1><span id="comparing-file-dates">comparing file dates</span></h1><p>  $ zmodload zsh/stat<br>  $ file1=foo<br>  $ file2=bar<br>  $ touch bar &amp; sleep 5 &amp; touch foo<br>  $ echo $file1 is $(($(stat +mtime $file2) -<br>    $(stat +mtime $file1))) seconds older than $file2.<br>  bar is 5 seconds older than foo</p>
<h1><span id="list-the-files-of-a-disk-smaller-than-some-other-file">list the files of a disk smaller than some other file</span></h1><p>  $ zmodload zsh/stat<br>  $ stat -A max +size some-other-file<br>  $ print -rl ./<em>*/</em>(D.L-$max)</p>
<h1><span id="list-the-top-100-biggest-files-in-a-disk">List the top 100 biggest files in a disk</span></h1><p>  $ zmodload zsh/stat<br>  $ ls -fld ./<em>*/</em>(d<code>stat +device .</code>OL[1,100])</p>
<h1><span id="get-only-the-user-name-and-the-file-names-from-like">Get only the user name and the file names from (like</span></h1><h1><span id="ls-l-awk-print-3-8">ls -l * | awk ‘{print $3” “ $8}’)</span></h1><p>  $ zmodload zsh/stat<br>  $ for file; do</p>
<blockquote>
<p>  stat -sA user +uid – “$file” &amp;&amp;<br>    print -r – “$user” “$file”<br>done</p>
</blockquote>
<h1><span id="get-the-difference-between-actual-bytes-of-file-and-allocated-bytes-of-file">get the difference between actual bytes of file and allocated bytes of file</span></h1><p>  $ zmodload zsh/stat<br>  $ print $(($(stat +block – file) * 512 - $(stat +size – file)))</p>
<h1><span id="find-largest-file">Find largest file</span></h1><h1><span id="d-to-include-dot-files-d-lowercase-is-for-device">``D’’  : to include dot files (d lowercase is for device)</span></h1><h1><span id="o-reverse-ordered-o-lowercase-for-non-reverse-order">``O’’  : reverse Ordered (o lowercase for non-reverse order)</span></h1><h1><span id="l-by-file-length-l-is-for-number-of-links">``L’’  : by file Length (l is for number of links)</span></h1><h1><span id="1-return-only-first-one">``[1]’’: return only first one</span></h1><p>  $ zmodload zsh/stat<br>  $ stat +size ./*(DOL[1])</p>
<h1><span id="file-size-in-bytes">file size in bytes</span></h1><p>  $ zmodload zsh/stat<br>  $ stat -L +size ~/.zshrc<br>  4707</p>
<h1><span id="delete-files-in-a-directory-that-hasn-t-been-accessed-in-the-last-ten-days">Delete files in a directory that hasn’t been accessed in the last ten days</span></h1><h1><span id="and-send-one-mail-to-the-owner-of-the-files-informing-him-her-of-the-files">and send ONE mail to the owner of the files informing him/her of the files’</span></h1><h1><span id="deletion">deletion.</span></h1><p>  $ zmodload zsh/stat zsh/files<br>  $ typeset -A f; f=()<br>  $ rm -f /path/<em>*/</em>(.a+10e{‘stat -sA u +uidr $REPLY; f[$u]=”$f[$u]$REPLY”‘})<br>  $ for user (${(k)f}) {print -rn $f[$user]|mailx -s “…” $user}</p>
<h1><span id="get-a-ls-l-on-all-the-files-in-the-tree-that-are-younger-than-a">Get a “ls -l” on all the files in the tree that are younger than a</span></h1><h1><span id="specified-age">specified age</span></h1><p>  $ zmodload zsh/stat<br>  $ for d (. ./<em>*/</em>(N/m-2))</p>
<blockquote>
<p>  print -r – $’<br>‘$d: &amp;&amp; cd $d &amp;&amp; {<br>     for f (*(Nm-2om))<br>  stat -F ‘%b %d %H:%M’ -LsAs – $f &amp;&amp;<br>  print -r – $s[3] ${(l:4:)s[4]} ${(l:8:)s[5]}<br>  ${(l:8:)s[6]} ${(l:8:)s[8]} $s[10] $f ${s[14]:+-&gt; $s[14]}<br>  cd ~-<br>}</p>
</blockquote>
<h1><span id="get-file-creation-date">get file creation date</span></h1><p>  $ zmodload zsh/stat<br>  $ stat -F ‘%d %m %Y’ +mtime ~/.zshrc<br>  30 06 2004<br>  $ stat -F ‘%D’ +mtime ~/.zshrc<br>  06/30/04<br>zsh/files (require zmodload zsh/files)</p>
<h1><span id="search-a-directory-for-files-containing-a-certain-string-then-copy-those">search a directory for files containing a certain string then copy those</span></h1><h1><span id="files-to-another-directory">files to another directory.</span></h1><p>  $ zmodload zsh/files<br>  $ IFS=$’<br>‘<br>  $ cp $(grep -lZr foobar .) otherdirectory<br>zsh/mapfile (require zmodload zsh/mapfile)</p>
<h1><span id="grepping-for-two-patterns">grepping for two patterns</span></h1><p>  $ zmodload zsh/mapfile<br>  $ pattern1=”foo”<br>  $ pattern2=”bar foo”<br>  $ print -l ./<em>*/</em>(DN.e{‘z=$mapfile[$REPLY] &amp;&amp; [[ $z = <em>$pattern1</em> &amp;&amp;<br>    $z = <em>$pattern2</em> ]]’})</p>
<h1><span id="or-a-solution-in-combination-with-zsh-pcre">or a solution in combination with zsh/pcre</span></h1><p>  $ zmodload -i zsh/mapfile zsh/pcre<br>  $ pattern1=”foo”<br>  $ pattern2=”bar foo”<br>  $ pcre_compile “(?s)(?=.<em>?$pattern1).</em>?$pattern2”<br>  $ pcre_study<br>  $ print -l ./<em>*/</em>(DN.e{‘pcre_match $mapfile[$REPLY]’})</p>
<h1><span id="equivalent-for-less-etc-passwd-grep-v-root">equivalent for ``less /etc/passwd | grep -v root’’</span></h1><p>  $ zmodload zsh/mapfile<br>  $ IFS=$’</p>
<p>‘<br>  $ print -rl – ${${=mapfile[/etc/passwd]}:#<em>root</em>}</p>
<h1><span id="or-for-case-insensitive">or - for case insensitive</span></h1><p>  $ setopt extendedglob<br>  $ print -rl – ${${=mapfile[/etc/passwd]}:#<em>(#i)root</em>}</p>
<h1><span id="if-a-xml-file-contains-stuff-like-lt-taga-gt-39-39-and-number">If a XML-file contains stuff like <code>&lt;TAGA/&gt;&#39;&#39; and</code><tagb>‘’, number</tagb></span></h1><h1><span id="this-empty-tags-ones-ending-in-gt-so-if-encountered-in-the-same">this empty tags (ones ending in ‘/&gt;’) so if encountered in the same</span></h1><h1><span id="order-the-preceeding-tags-would-become-1-and">order, the preceeding tags would become ``<taga>1</taga>‘’ and</span></h1><h1><span id="2">``<tagb>2</tagb>‘’</span></h1><p>  $ zmodload zsh/mapfile<br>  $ cnt=0<br>  $ apfile[data.xml.new]=${(S)mapfile[data.xml]//</p>
<blockquote>
<p>(#im)<taga>*</taga>/<taga>$((++cnt))</taga>}</p>
</blockquote>
<h1><span id="removing-all-files-in-users-maildir-new-that-contain-filename-gone-src">removing all files in users Maildir/new that contain ``filename=”gone.src’’</span></h1><p>  $ zmodload zsh/{files,mapfile}<br>  $ rm -f /u1/??/<em>/Maildir/new/100</em>(.e{‘[[ $mapfile[$REPLY] ==<br>    <em>filename=”gone.scr”</em> ]]’})</p>
<h1><span id="grep-out-the-title-from-a-postscript-file-and-append-that-value-to-the">Grep out the Title from a postscript file and append that value to the</span></h1><h1><span id="end-of-the-filename">end of the filename</span></h1><p>  $ autoload -U zmv<br>  $ zmodload zsh/mapfile<br>  $ zmv ‘(<em>).ps’ ‘$1-${${${mapfile[$f]##</em>%%Title: }%% *}//[^a-zA-Z0-9_]/}.ps’<br>zsh/mathfunc (require zmodload zsh/mathfunc)</p>
<p>$ zmodload zsh/mathfunc<br>$ echo $(( sin(1/4.0)<strong>2 + cos(1/4.0)</strong>2 - 1 ))<br>  -1.1102230246251565e-16<br>$ echo $(( pi = 4.0 <em> atan(1.0) ))<br>  3.1415926535897931<br>$ echo $(( f = sin(0.3) ))<br>  0.29552020666133955<br>$ print $((1e12 </em> rand48()))<br>  847909677310.23413<br>$ print $(( rand48(seed) ))<br>  0.01043488334700271<br>zsh/termcap (require zmodload zsh/termcap)</p>
<p> $ zmodload -ab zsh/termcap echotc<br> $ GREEN=<code>echotc AF 2</code><br> $ YELLOW=<code>echotc AF 3</code><br> $ RED=<code>echotc AF 1</code><br> $ BRIGHTRED=<code>echotc md ; echotc AF 1</code><br> $ print -l ${GREEN}green ${YELLOW}yellow ${RED}red ${BRIGHTRED}brightred<br>zsh/zpty (require zmodload zsh/zpty)</p>
<p>  $ zmodload zsh/zpty<br>  $ zpty PW passwd $1<br>  $ zpty PW passwd $1</p>
<h1><span id="r-read-the-output-of-the-command-name">``-r’’: read the output of the command name.</span></h1><h1><span id="z-parameter">``z’’ : Parameter</span></h1><p>  $ zpty -r PW z ‘*password:’</p>
<h1><span id="send-the-to-command-name-the-given-strings-as-input">send the to command name the given strings as input</span></h1><p>  $ zpty -w PW $2<br>  $ zpty -r PW z ‘*password:’<br>  $ zpty -w PW $2</p>
<h1><span id="the-second-form-with-the-d-option-is-used-to-delete-commands">The second form, with the -d option, is used to delete commands</span></h1><h1><span id="previously-started-by-supplying-a-list-of-their-names-if-no-names">previously started, by supplying a list of their names. If no names</span></h1><h1><span id="are-given-all-commands-are-deleted-deleting-a-command-causes-the-hup">are given, all commands are deleted. Deleting a command causes the HUP</span></h1><h1><span id="signal-to-be-sent-to-the-corresponding-process">signal to be sent to the corresponding process.</span></h1><p>  $ zpty -d PW<br>zsh/net/socket (require zmodload zsh/net/socket)</p>
<h1><span id="l-open-a-socket-listening-on-filename">``-l’’: open a socket listening on filename</span></h1><h1><span id="d-argument-will-be-taken-as-the-target-file-descriptor-for-the">``-d’’: argument will be taken as the target file descriptor for the</span></h1><h1><span id="connection">connection</span></h1><h1><span id="3-39-39-file-descriptor-seea-user-s-guide-to-the-z-shell"><code>3&#39;&#39; : file descriptor. See</code>A User’s Guide to the Z-Shell’’</span></h1><h1><span id="3-7-2-file-descriptors">(3.7.2: File descriptors)</span></h1><p>  $ zmodload zsh/net/socket<br>  $ zsocket -l -d 3</p>
<h1><span id="a-accept-an-incoming-connection-to-the-socket">``-a’’: accept an incoming connection to the socket</span></h1><p>  $ zsocket -a -d 4 3<br>  $ zsocket -a -d 5 3 # accept a connection<br>  $ echo foobar &gt;&amp;4<br>  $ echo barfoo &gt;&amp;5<br>  $ 4&gt;&amp;- 5&gt;&amp;- 3&gt;&amp;<br>zsh/zftp (require zmodload zsh/zftp)</p>
<p> $ autoload -U zfinit<br> $ zfinit<br> $ zfparams www.example.invalid myuserid mypassword<br> $ zfopen<br> $ zfcd tips<br> $ zfls -l zshtips.html<br> $ zfput zshtips.html<br> $ zfls -l zshtips.html</p>
<h1><span id="automatically-transfer-files-using-ftp-with-error-checking">Automatically transfer files using FTP with error checking</span></h1><p>  $ autoload -U zfinit ; zfinit<br>  $ zftp open host.name.invalid user passwd || exit<br>  $ zftp get /remote/file &gt; /local/file; r=$?<br>  $ zftp close &amp;&amp; exit r</p>
<h1><span id="compress-and-ftp-on-the-fly">compress and ftp on the fly</span></h1><p>  $ autoload -U zfinit ; zfinit<br>  $ zftp open host.name.invalid user password<br>  $ zftp get $file | bzip2 &gt; ${file}.bz2<br>  $ zftp close</p>
<h1><span id="recursice-get">Recursice ``get’’</span></h1><p>  $ autoload -U zfinit ; zfinit<br>  $ zfanon cr.yp.to<br>  $ zfcd daemontools<br>  $ for file in <code>zfls</code> ; do</p>
<blockquote>
<pre><code>zfget $file
</code></pre><p>  $ done<br>  $ zfclose</p>
</blockquote>
<h1><span id="upload-all-regular-files-in-home-foobar-recursive-that-are-newer-than">Upload all regular files in $HOME/foobar (recursive) that are newer than</span></h1><h1><span id="two-hours-to-ftp-foobar-invalid-path-to-upload">two hours to ftp.foobar.invalid/path/to/upload</span></h1><p>  $ autoload -U zfinit ; zfinit<br>  $ zfopen ftp.foobar.invalid/path/to/upload<br>  $ cd $HOME/foobar<br>  $ zfput -r <em>*/</em>(.mh-2)<br>  $ zfclose</p>
<h1><span id="long-list-of-files-on-a-ftp">long list of files on a ftp</span></h1><p>  $ autoload -U zfinit ; zfinit<br>  $ zfopen some-host<br>  $ zfcd /some/remote/Dir<br>  $ cd /some/local/Dir</p>
<h1><span id="if-the-list-txt-is-located-on-the-remote-host-change-to">If the list.txt is located on the remote host, change to</span></h1><h1><span id="zfget-f-zftp-get-path-to-remote-list-txt">zfget ${(f)”$(zftp get /path/to/remote/list.txt)”}</span></h1><p>  $ zfget ${(f)”$(cat list.txt)”}<br>  $ zfclose<br>zsh/zselect (require zmodload zsh/zselect)</p>
<h1><span id="it-s-similar-to">It’s similar to</span></h1><p> ,—-<br> | $ sg=$(stty -g)<br> | $ stty -icanon min 0 time 50<br> | $ read yesno<br> | $ stty “$sg”<br> | $ case “$yesno” in<br> | &gt;  yes) command1;;<br> | &gt;  *) command2;;<br> | &gt; esac<br> `—-<br>$ zmodload zsh/zselect<br>$ if zselect -t 500 -r 0 &amp;&amp; read yesno &amp;&amp; [ yes = “$yesno” ]; then</p>
<blockquote>
<p>   command1<br>else<br>   command1<br>fi<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"># OPTIONS</span><br><span class="line"></span><br><span class="line">Navigation options</span><br><span class="line">auto_cd (allow one to change to a directory by entering it as a command). auto_pushd (automatically append dirs to the push/pop list) pushd_ignore_dups (and don’t duplicate them).</span><br><span class="line"></span><br><span class="line">Misc</span><br><span class="line">no_hup (don’t send HUP signal to background jobs when exiting ZSH). print_exit_value (show a message with the exit code when a command returns with a non-zero exit code)</span><br><span class="line"></span><br><span class="line">History options</span><br><span class="line"></span><br><span class="line">hist_verify (let the user edit the command line after history expansion (e.g. !ls) instead of immediately running it)</span><br><span class="line">Use the same history file for all sessions :</span><br><span class="line">setopt SHARE_HISTORY</span><br><span class="line"></span><br><span class="line">Privacy / Security</span><br><span class="line"></span><br><span class="line">no_clobber (or set -C; prevent &gt; redirection from truncating the given file if it already exists)</span><br><span class="line"></span><br><span class="line">Spelling correction</span><br><span class="line"></span><br><span class="line">correct (automatically correct the spelling of commands). correct_all (automatically correct the spelling of each word on the command line) dvorak (dvorak layout)</span><br><span class="line"></span><br><span class="line"># UNSORTED/MISC ==</span><br><span class="line"></span><br><span class="line">Mailpath: simple multiple mailpath:</span><br><span class="line"></span><br><span class="line">mailpath=($HOME/Mail/mbox&apos;?new mail in mbox&apos;</span><br><span class="line">          $HOME/Mail/tux.u-strasbg&apos;?new mail in tux&apos;</span><br><span class="line">          $HOME/Mail/lilo&apos;?new mail in lilo&apos;</span><br><span class="line">          $HOME/Mail/ldap-fr&apos;?new mail in ldap-fr&apos;)</span><br><span class="line">Mailpath: dynamic mailpath:</span><br><span class="line"></span><br><span class="line">typeset -a mailpath</span><br><span class="line">for i in ~/Mail/Lists/*(.); do</span><br><span class="line">   mailpath[$#mailpath+1]=&quot;$&#123;i&#125;?You have new mail in $&#123;i:t&#125;.&quot;</span><br><span class="line">done</span><br><span class="line">Avoid globbing on special commands:</span><br><span class="line"></span><br><span class="line">for com in alias expr find mattrib mcopy mdir mdel which;</span><br><span class="line">alias $com=&quot;noglob $com&quot;</span><br><span class="line">For migrating your bashprompt to zsh use the script bash2zshprompt located in the zsh source distribution under Misc.</span><br><span class="line"></span><br><span class="line">For migration from (t)csh to zsh use the c2z tool that converts csh aliases and environment and shell variables to zsh. It does this by running csh, and having csh report on aliases and variables. The script then converts these to zsh startup files. It has some issues and usage information that are documented at the top of this script.</span><br><span class="line"></span><br><span class="line">Here are functions to set the title and hardstatus of an XTerm or of GNU Screen to zsh and the current directory, respectively, when the prompt is displayed, and to the command name and rest of the command line, respectively, when a command is executed:</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>#!sh<br>function title {<br>      if [[ $TERM == “screen” ]]; then</p>
<pre><code>  # Use these two for GNU Screen:
  print -nR $&apos; 33k&apos;$1$&apos; 33&apos;
  print -nR $&apos; 33]0;&apos;$2$&apos;&apos;
elif [[ $TERM == &quot;xterm&quot; || $TERM == &quot;rxvt&quot; ]]; then
  # Use this one instead for XTerms:
  print -nR $&apos; 33]0;&apos;$*$&apos;&apos;
fi
</code></pre><p>}<br>function precmd { title zsh “$PWD” }<br>function preexec {<br>    emulate -L zsh<br>    local -a cmd; cmd=(${(z)1})<br>    title $cmd[1]:t “$cmd[2,-1]”<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Put the following line into your ~/.screenrc to see this fancy hardstatus:</span><br></pre></td></tr></table></figure></p>
<p>caption always “%3n %t%? (%u)%?%?: %h%?”<br>Special variables which are assigned:</p>
<p>$LINENO $RANDOM $SECONDS $COLUMNS $HISTCHARS $UID<br>$EUID $GID $EGID $USERNAME $fignore $mailpath $cdpath<br>LINKS<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> - [主页]( http://www.zsh.org/)</span><br><span class="line"> - [源代码](http://sourceforge.net/projects/zsh/)</span><br><span class="line"> - [Z shell page at sunsite.dk]( http://zsh.sunsite.dk/)</span><br><span class="line"> - [From Bash to Z Shell: Conquering the Command Line](http://www.bash2zsh.com/)</span><br><span class="line"> - [Mailing list archive](http://www.zsh.org/mla/)</span><br><span class="line"> - [ZshFAQ](http://zsh.dotsrc.org/FAQ/)</span><br><span class="line"> - [用户手册](http://zsh.sunsite.dk/Guide/)</span><br><span class="line"> - [ZshWiki](http://zshwiki.org/home/)</span><br><span class="line"> - [A short introduction from BYU](http://docs.cs.byu.edu/linux/advanced/zsh.html)</span><br><span class="line"> - [Mouse-Support](http://stchaz.free.fr/mouse.zsh)</span><br><span class="line"> - [Curtains up: introducing the Z shell](http://www-128.ibm.com/developerworks/linux/library/l-z.html?dwzone=linux) </span><br><span class="line"> - [ZSH Prompt introduction](http://aperiodic.net/phil/prompt/)</span><br><span class="line"> - [ft’s zsh configuration](http://ft.bewatermyfriend.org/comp/zsh.html)</span><br><span class="line"> - [Adam’s ZSH page](http://www.adamspiers.org/computing/zsh/) </span><br><span class="line"> - [Zzappers Best of ZSH Tips](http://www.rayninfo.co.uk/tips/zshtips.html)</span><br><span class="line"> - [Zsh Webpage by Christian Schneider](http://www.strcat.de/zsh/)</span><br><span class="line"> - [The zsh-lovers webpage](http://grml.org/zsh/)</span><br><span class="line"></span><br><span class="line">IRC channel</span><br><span class="line">#zsh at irc.freenode.org</span><br><span class="line"></span><br><span class="line">The Z shell reference-card (included in the zsh-lovers debian-package)</span><br><span class="line">http://www.bash2zsh.com/zsh_refcard/refcard.pdf</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># zmv ==</span><br><span class="line">zmv是[wiki:Zsh]的一个AutoLoadFunction, 用Zsh脚本写成,用来给文件/目录批量改名</span><br></pre></td></tr></table></figure></p>
<p>#!sh</p>
<h1><span id="pi-liang-gei-wen-jian-tian-jia-qian-zhui">批量给文件添加前缀</span></h1><p>$ autoload -Uz zmv<br>$ mkdir test ; cd test<br>$ touch {1..5}.txt<br>$ ls<br>1.txt  2.txt  3.txt  4.txt  5.txt</p>
<h1><span id="gei-suo-you-wen-jian-tian-jia-qian-zhui-ext-1-txt-bian-cheng-ext-1-txt-yi-ci-lei-tui">给所有文件添加前缀ext_, 1.txt变成ext_1.txt, 以此类推</span></h1><p>$ zmv ‘(*)’ ‘ext_$1’<br>$ ls<br>ext_1.txt  ext_2.txt  ext_3.txt  ext_4.txt  ext_5.txt<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 七七八八</span><br><span class="line">amas-say:</span><br></pre></td></tr></table></figure></p>
<p>#!sh</p>
<p>#!/bin/zsh</p>
<p>main() {<br>echo “My life begin …”<br>sleep 1.5<br>echo 您的电脑可不怎么样,${CPUTYPE}-${MACHTYPE}可谓已经OUT了, ${OSTYPE}还不错, 总比微软强.<br>echo 我是从”$0”开始执行的,我的PID是”$$”,我的父进程PID为$PPID,<br>echo 您向我传递了”$#”个参数,他们分别是:”$@”<br>echo 在我之前执行的命令状态码为”$?”, 它的最后一个参数是”$_”<br>echo 我在main中的第${LINENO}行打印了这句话.<br>echo 我变化无常,我讨厌$RANDOM<br>echo 我只存活过${SECONDS}秒,可谓短命<br>echo 您应当在终端${TTY}上看到这些留言<br>echo 您的用户ID为$UID, 我会牢记. ${USERNAME}您真是一个好人. 您正位于${PWD}<br>echo 是${ZSH_NAME}帮我向您传达了这些信息,它的版本号是${ZSH_VERSION},是${VENDOR}编译了它.<br>echo 尽管我从不听别人的忠告,但您还是可以通过以下信息联系我:$signals<br>}</p>
<p>main $*<br>```</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Inici</a></li>
         
          <li><a href="/about/">Qui som</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/projects_url">Projectes</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">1.</span> <span class="toc-text">Zsh Lover</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">2.</span> <span class="toc-text">NAME</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">3.</span> <span class="toc-text">SYNOPSIS</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">4.</span> <span class="toc-text">OVERVIEW</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">5.</span> <span class="toc-text">SHELL-SCRIPTING</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">6.</span> <span class="toc-text">EXAMPLES ==</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">7.</span> <span class="toc-text">ALIASES ==</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">8.</span> <span class="toc-text">补全</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">9.</span> <span class="toc-text">七七八八的示例</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">10.</span> <span class="toc-text">随机数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">11.</span> <span class="toc-text">字符处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">12.</span> <span class="toc-text">Get the PID of a process (without ps&#39;&#39;,sed’’, ``pgrep’’, ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">13.</span> <span class="toc-text">(under Linux)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">14.</span> <span class="toc-text">for X in ‘n’ ‘o’ ‘p’ ‘q’ ‘r’ ‘s’ ‘t’ ‘u’ ‘v’ ‘w’ ‘x’ ‘y’; do …</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">15.</span> <span class="toc-text">or in combination with ``dc’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">16.</span> <span class="toc-text">or with ``eval’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">17.</span> <span class="toc-text">foreach in one line of shell</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">18.</span> <span class="toc-text">copy a directory recursively without data/files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">19.</span> <span class="toc-text">or without zsh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">20.</span> <span class="toc-text">If `foo=23’’, then print with 10 digit with leading ‘0’.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">21.</span> <span class="toc-text">find the name of all the files in their home directory that have</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">22.</span> <span class="toc-text">more than 20 characters in their file names</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">23.</span> <span class="toc-text">Save arrays</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">24.</span> <span class="toc-text">get a “ls -l” on all the files in the tree that are younger than a</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">25.</span> <span class="toc-text">specified age (e.g “ls -l” all the files in the tree that where</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">26.</span> <span class="toc-text">modified in the last 2 days)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">27.</span> <span class="toc-text">This will give you a listing 1 file perl line (not à la ls -R).</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">28.</span> <span class="toc-text">Think of an easy way to have a “ls -R” style output with</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">29.</span> <span class="toc-text">only files newer than 2 day old.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">30.</span> <span class="toc-text">If you also want directories to be included even if their mtime</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">31.</span> <span class="toc-text">is more than 2 days old:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">32.</span> <span class="toc-text">And if you want only the directories with mtime &lt; 2 days to be listed:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">33.</span> <span class="toc-text">print 42 ``-‘’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">34.</span> <span class="toc-text">or use ``$COLUMS’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">35.</span> <span class="toc-text">and now with colors (require autoload colors ;colors)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">36.</span> <span class="toc-text">Redirect STDERR to a command like xless without redirecting STDOUT as well.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">37.</span> <span class="toc-text">but this executes the command asynchronously. To do it synchronously:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">38.</span> <span class="toc-text">Rename all MP3-Files from name with spaces.mp3 to Name With Spaces.mp3</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">39.</span> <span class="toc-text">Match file names containing only digits and ending with .xml (require</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">40.</span> <span class="toc-text">setopt kshglob)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">41.</span> <span class="toc-text">Remove all “non txt” files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">42.</span> <span class="toc-text">Move 200 files from a directory into another</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">43.</span> <span class="toc-text">Convert images (foo.gif =&gt; foo.png):</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">44.</span> <span class="toc-text">convert a collection of mp3 files to wave or cdr,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">45.</span> <span class="toc-text">e.g. file.wav -&gt; file.mp3)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">46.</span> <span class="toc-text">Download with LaTeX2HTML  created Files (for example the ZSH-Guide):</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">47.</span> <span class="toc-text">Move all files in dir1 and dir2 that have line counts greater than 10 to</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">48.</span> <span class="toc-text">another directory say “/more10”</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">49.</span> <span class="toc-text">Make with dpkg a master-list of everyfile that it has installed</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">50.</span> <span class="toc-text">Replace this fucking Escape-Sequences:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">51.</span> <span class="toc-text">Get ASCII value of a character</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">52.</span> <span class="toc-text">Filename “Erweiterung”</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">53.</span> <span class="toc-text">Note: The (N) says to use the nullglob option for this particular</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">54.</span> <span class="toc-text">glob pattern.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">55.</span> <span class="toc-text">Rename files; i. e. FOO to foo and bar to BAR</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">56.</span> <span class="toc-text">Show all suid-files in $PATH</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">57.</span> <span class="toc-text">or more complex ;)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">58.</span> <span class="toc-text">or show only executables with a user given pattern</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">59.</span> <span class="toc-text">gzip files when containing a certain string</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">60.</span> <span class="toc-text">A small  one-liner, that reads from stdin and prints to stdout the first</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">61.</span> <span class="toc-text">unique line i. e. does not print lines that have been printed before</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">62.</span> <span class="toc-text">(this is similar to the unique command, but unique can only handle</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">63.</span> <span class="toc-text">adjacent lines).</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">64.</span> <span class="toc-text">Lists every executable in PATH</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">65.</span> <span class="toc-text">Match all .c files in all subdirectories, except any SCCS subdirectories?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">66.</span> <span class="toc-text">List all `README’ - files case-insensitive with max. one typo</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">67.</span> <span class="toc-text">case insensitive checking for variables</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">68.</span> <span class="toc-text">Search for `README’ in all Subdirectories</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">69.</span> <span class="toc-text">find directories that contain both “index.php” and “index.html”, or in</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">70.</span> <span class="toc-text">general, directories that contain more than one file matching “index.*”</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">71.</span> <span class="toc-text">or</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">72.</span> <span class="toc-text">Find command to search for directory name instead of basename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">73.</span> <span class="toc-text">or - without Zsh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">74.</span> <span class="toc-text">Print he path of the directories holding the ten biggest C regular files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">75.</span> <span class="toc-text">in the current directory and subdirectories.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">76.</span> <span class="toc-text">Find files with size == 0 and send a mail</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">77.</span> <span class="toc-text">recursive chmod</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">78.</span> <span class="toc-text">print out all of the files in that directory in 2 columns</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">79.</span> <span class="toc-text">^- number ob columns</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">80.</span> <span class="toc-text">or - if you feel concerned about special characters - use</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">81.</span> <span class="toc-text">Search all files in /home//-mail/ with a setting ``chmod -s’’ flag</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">82.</span> <span class="toc-text">(recursive, include  dotfiles) remove the setgid/setuid flag and print</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">83.</span> <span class="toc-text">a message</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">84.</span> <span class="toc-text">or with a small script</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">85.</span> <span class="toc-text">or use ``zargs’’ (require autoload zargs) prevent the arg list too</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">86.</span> <span class="toc-text">long error</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">87.</span> <span class="toc-text">List files beginning at `foo23’ upwards (foo23, foo24, foo25, ..)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">88.</span> <span class="toc-text">get all files that begin with the date strings from June 4 through</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">89.</span> <span class="toc-text">June 9 of 2004</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">90.</span> <span class="toc-text">or if they are of the form 200406XX (require ``setopt extended_glob’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">91.</span> <span class="toc-text">remove spaces from filenames</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">92.</span> <span class="toc-text">Show only all .c and .h - Files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">93.</span> <span class="toc-text">Show only all *.c - files and ignore `foo.c’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">94.</span> <span class="toc-text">show data to really binary format</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">95.</span> <span class="toc-text">Show only world-readable files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">96.</span> <span class="toc-text">List files in the current directory are not writable by the owner</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">97.</span> <span class="toc-text">find and delete the files which are older than a given parameter</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">98.</span> <span class="toc-text">(seconds/minutes/hours)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">99.</span> <span class="toc-text">deletes all regular file in /Dir that are older than 3 hours</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">100.</span> <span class="toc-text">deletes all symlinks in /Dir that are older than 3 minutes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">101.</span> <span class="toc-text">deletes all non dirs in /Dir that are older than 30 seconds</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">102.</span> <span class="toc-text">deletes all folders, sub-folders and files older than one hour</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">103.</span> <span class="toc-text">deletes all files more than 6 hours old</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">104.</span> <span class="toc-text">removes all files but the ten newer ones (delete all but last 10</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">105.</span> <span class="toc-text">files in a directory)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">106.</span> <span class="toc-text">A User’s Guide to the Z-Shell /5.9: Filename Generation and Pattern</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">107.</span> <span class="toc-text">Matching find all files in all subdirectories, searching recursively,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">108.</span> <span class="toc-text">which have a given name, case insensitive, are at least 50 KB large,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">109.</span> <span class="toc-text">no more than a week old and owned by the root user, and allowing up</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">110.</span> <span class="toc-text">to a single error in the spelling of the name. In fact, the required</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">111.</span> <span class="toc-text">expression looks like this:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">112.</span> <span class="toc-text">Change the UID from 102 to 666</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">113.</span> <span class="toc-text">List all files which have not been updated since last 10 hours</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">114.</span> <span class="toc-text">delete only the oldest file in a directory</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">115.</span> <span class="toc-text">Sort the output from `ls -l’ by file size</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">116.</span> <span class="toc-text">find most recent file in a directory</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">117.</span> <span class="toc-text">Show only empty files which nor group&#39; orworld writable’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">118.</span> <span class="toc-text">Find - and list - the ten newest files in directories and subdirs.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">119.</span> <span class="toc-text">(recursive)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">120.</span> <span class="toc-text">Print only 5 lines by “ls” command (like ``ls -laS | head -n 5’’).</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">121.</span> <span class="toc-text">Display the 5-10 last modified files.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">122.</span> <span class="toc-text">Find all files without a valid owner.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">123.</span> <span class="toc-text">Find all the empty directories in a tree.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">124.</span> <span class="toc-text">Note:Since Zsh 4.2.1 the glob qualifier F indicates a non-empty directory.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">125.</span> <span class="toc-text">Hence (F) indicates all subdirectories with entries, (/^F) means all</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">126.</span> <span class="toc-text">subdirectories with no entries.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">127.</span> <span class="toc-text">Remove empty directories afterwards.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">128.</span> <span class="toc-text">Show only files which are owned by group `users’.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">129.</span> <span class="toc-text">NOTE: Zsh 4.3.4 needed!</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">130.</span> <span class="toc-text">files modified today</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">131.</span> <span class="toc-text">files modified since 5 pm</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">132.</span> <span class="toc-text">… since 5 o’clock yesterda</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">133.</span> <span class="toc-text">… from last Christmas before today</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">134.</span> <span class="toc-text">… before yesterday</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">135.</span> <span class="toc-text">all files modified between the start of those dates</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">136.</span> <span class="toc-text">all files modified on that date</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">137.</span> <span class="toc-text">Supply times.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">138.</span> <span class="toc-text">Remove a trailing pathname component, leaving the head. This works like</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">139.</span> <span class="toc-text">`dirname’.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">140.</span> <span class="toc-text">Remove all leading pathname components, leaving the tail. This works</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">141.</span> <span class="toc-text">like `basename’.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">142.</span> <span class="toc-text">Remove the suffix from each file (*.sh in this example)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">143.</span> <span class="toc-text">Remove a filename extension of the form `.xxx’, leaving the root name.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">144.</span> <span class="toc-text">Remove all but the extension.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">145.</span> <span class="toc-text">Print the new command but do not execute it. Only works with history</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">146.</span> <span class="toc-text">expansion.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">147.</span> <span class="toc-text">Quote the substituted words, escaping further substitutions.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">148.</span> <span class="toc-text">Convert the words to all lowercase.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">149.</span> <span class="toc-text">Convert the words to all uppercase.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">150.</span> <span class="toc-text">convert 1st char of a word to uppercase</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">151.</span> <span class="toc-text">Append `exit 1’ at the end of all *.sh - files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">152.</span> <span class="toc-text">adding files to foobar.tar.gz</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">153.</span> <span class="toc-text">Redirect output to a file AND display on screen</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">154.</span> <span class="toc-text">pipe single output to multiple inputs</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">155.</span> <span class="toc-text">Append /etc/services at the end of file foo&#39; andbar’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">156.</span> <span class="toc-text">Pipe STDERR</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">157.</span> <span class="toc-text">send standard output of one process to standard input of several processes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">158.</span> <span class="toc-text">in the pipeline</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">159.</span> <span class="toc-text">initializing a variable and simultaneously keeping terminal output</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">160.</span> <span class="toc-text">redirect stderr two times</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">161.</span> <span class="toc-text">Duplicating stdout and stderr to a logfile</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">162.</span> <span class="toc-text">redirect stderr (only) to a file and to orig. stderr:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">163.</span> <span class="toc-text">redirect stderr and stdout to separate files and both to orig. stdout:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">164.</span> <span class="toc-text">redirect stderr and stdout to separate files and stdout to orig. stdout</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">165.</span> <span class="toc-text">AND stderr to orig. stderr:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">166.</span> <span class="toc-text">More fun with STDERR ;)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">167.</span> <span class="toc-text">Remove illegal characters in a fat32 file system. Illegal characters are</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">168.</span> <span class="toc-text">/ :  ;  *  ?  “  &lt;  &gt;  |</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">169.</span> <span class="toc-text">NOTE: ``-Q’’ and (D) is to include hidden files.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">170.</span> <span class="toc-text">Changing part of a filename (i. e. “file-hell.name” -&gt; “file-heaven.name”)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">171.</span> <span class="toc-text">or</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">172.</span> <span class="toc-text">remove round bracket within filenames</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">173.</span> <span class="toc-text">i. e. foo-(bar).avi -&gt; foo-bar.avi</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">174.</span> <span class="toc-text">serially all files (foo.foo &gt; 1.foo, fnord.foo &gt; 2.foo, ..)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">175.</span> <span class="toc-text">Rename “file.with.many.dots.txt” by substituting dots (exept for the last</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">176.</span> <span class="toc-text">one!) with a space</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">177.</span> <span class="toc-text">Remove the first 4 chars from a filename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">178.</span> <span class="toc-text">Rename names of all files under the current Dir to lower case, but keep</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">179.</span> <span class="toc-text">dirnames as-is.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">180.</span> <span class="toc-text">replace all 4th character, which is “1”,  with “2” and so on</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">181.</span> <span class="toc-text">Remove the first 15 characters from a string</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">182.</span> <span class="toc-text">Replace spaces (any number of them) with a single dash in file names</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">183.</span> <span class="toc-text">or - with Bash</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">184.</span> <span class="toc-text">Clean up file names and remove special characters</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">185.</span> <span class="toc-text">Add *.py to a bunch of python scripts in a directory (some of them end</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">186.</span> <span class="toc-text">in *.py and give them all a proper extension</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">187.</span> <span class="toc-text">lowercase all extensions (i. e. *.JPG) incl. subfolders</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">188.</span> <span class="toc-text">Or - without Zsh</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">189.</span> <span class="toc-text">remove leading zeros from file extension</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">190.</span> <span class="toc-text">renumber files.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">191.</span> <span class="toc-text">adding leading zeros to a filename (1.jpg -&gt; 001.jpg, ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">192.</span> <span class="toc-text">See above, but now only files with a filename &gt;= 30 chars</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">193.</span> <span class="toc-text">Replace spaces in filenames with a underline</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">194.</span> <span class="toc-text">Change the suffix from .sh to .pl</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">195.</span> <span class="toc-text">Add a “”.txt” extension to all the files within ${HOME}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">196.</span> <span class="toc-text">``-.’’ is to only rename regular files or symlinks to regular files,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">197.</span> <span class="toc-text">``D’’ is to also rename hidden files (dotfiles))</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">198.</span> <span class="toc-text">Or to only rename files that don’t have an extension:</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">199.</span> <span class="toc-text">Recursively change filenames with characters ? [ ] / = + &lt; &gt; ; : “ , - *</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">200.</span> <span class="toc-text">Removing single quote from filenames (recursively)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">201.</span> <span class="toc-text">When a new file arrives (named file.txt) rename all files in order to</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">202.</span> <span class="toc-text">get (e. g. file119.txt becomes file120.txt, file118.txt becomes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">203.</span> <span class="toc-text">file119.txt and so on ending with file.txt becoming file1.txt</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">204.</span> <span class="toc-text">lowercase/uppercase all files/directories</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">205.</span> <span class="toc-text">Remove the suffix *.c from all C-Files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">206.</span> <span class="toc-text">Uppercase only the first letter of all *.mp3 - files</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">207.</span> <span class="toc-text">Copy the target README&#39; in same directory as eachMakefile’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">208.</span> <span class="toc-text">Removing single quote from filenames (recursively)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">209.</span> <span class="toc-text">Rename pic1.jpg, pic2.jpg, .. to pic0001.jpg, pic0002.jpg, ..</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">210.</span> <span class="toc-text">Copy files of a certain period (date indicated in the filenames)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">211.</span> <span class="toc-text">or</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">212.</span> <span class="toc-text">Creates a forked instance of the current shell ($! is set to zero) and</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">213.</span> <span class="toc-text">execute ``command’’ on /dev/tty8 (for this example).</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">214.</span> <span class="toc-text">strip date from filename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">215.</span> <span class="toc-text">Search files size == 0, to be based on the file name containing a date</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">216.</span> <span class="toc-text">rather than the “last modified” date of the file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">217.</span> <span class="toc-text">test if a symbolic link links to a certain file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">218.</span> <span class="toc-text">comparing file dates</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">219.</span> <span class="toc-text">list the files of a disk smaller than some other file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">220.</span> <span class="toc-text">List the top 100 biggest files in a disk</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">221.</span> <span class="toc-text">Get only the user name and the file names from (like</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">222.</span> <span class="toc-text">ls -l * | awk ‘{print $3” “ $8}’)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">223.</span> <span class="toc-text">get the difference between actual bytes of file and allocated bytes of file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">224.</span> <span class="toc-text">Find largest file</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">225.</span> <span class="toc-text">``D’’  : to include dot files (d lowercase is for device)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">226.</span> <span class="toc-text">``O’’  : reverse Ordered (o lowercase for non-reverse order)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">227.</span> <span class="toc-text">``L’’  : by file Length (l is for number of links)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">228.</span> <span class="toc-text">``[1]’’: return only first one</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">229.</span> <span class="toc-text">file size in bytes</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">230.</span> <span class="toc-text">Delete files in a directory that hasn’t been accessed in the last ten days</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">231.</span> <span class="toc-text">and send ONE mail to the owner of the files informing him/her of the files’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">232.</span> <span class="toc-text">deletion.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">233.</span> <span class="toc-text">Get a “ls -l” on all the files in the tree that are younger than a</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">234.</span> <span class="toc-text">specified age</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">235.</span> <span class="toc-text">get file creation date</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">236.</span> <span class="toc-text">search a directory for files containing a certain string then copy those</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">237.</span> <span class="toc-text">files to another directory.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">238.</span> <span class="toc-text">grepping for two patterns</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">239.</span> <span class="toc-text">or a solution in combination with zsh/pcre</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">240.</span> <span class="toc-text">equivalent for ``less /etc/passwd | grep -v root’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">241.</span> <span class="toc-text">or - for case insensitive</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">242.</span> <span class="toc-text">If a XML-file contains stuff like &lt;TAGA/&gt;&#39;&#39; and‘’, number</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">243.</span> <span class="toc-text">this empty tags (ones ending in ‘/&gt;’) so if encountered in the same</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">244.</span> <span class="toc-text">order, the preceeding tags would become ``1‘’ and</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">245.</span> <span class="toc-text">``2‘’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">246.</span> <span class="toc-text">removing all files in users Maildir/new that contain ``filename=”gone.src’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">247.</span> <span class="toc-text">Grep out the Title from a postscript file and append that value to the</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">248.</span> <span class="toc-text">end of the filename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">249.</span> <span class="toc-text">``-r’’: read the output of the command name.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">250.</span> <span class="toc-text">``z’’ : Parameter</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">251.</span> <span class="toc-text">send the to command name the given strings as input</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">252.</span> <span class="toc-text">The second form, with the -d option, is used to delete commands</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">253.</span> <span class="toc-text">previously started, by supplying a list of their names. If no names</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">254.</span> <span class="toc-text">are given, all commands are deleted. Deleting a command causes the HUP</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">255.</span> <span class="toc-text">signal to be sent to the corresponding process.</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">256.</span> <span class="toc-text">``-l’’: open a socket listening on filename</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">257.</span> <span class="toc-text">``-d’’: argument will be taken as the target file descriptor for the</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">258.</span> <span class="toc-text">connection</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">259.</span> <span class="toc-text">3&#39;&#39; : file descriptor. SeeA User’s Guide to the Z-Shell’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">260.</span> <span class="toc-text">(3.7.2: File descriptors)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">261.</span> <span class="toc-text">``-a’’: accept an incoming connection to the socket</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">262.</span> <span class="toc-text">Automatically transfer files using FTP with error checking</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">263.</span> <span class="toc-text">compress and ftp on the fly</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">264.</span> <span class="toc-text">Recursice ``get’’</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">265.</span> <span class="toc-text">Upload all regular files in $HOME/foobar (recursive) that are newer than</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">266.</span> <span class="toc-text">two hours to ftp.foobar.invalid/path/to/upload</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">267.</span> <span class="toc-text">long list of files on a ftp</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">268.</span> <span class="toc-text">If the list.txt is located on the remote host, change to</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">269.</span> <span class="toc-text">zfget ${(f)”$(zftp get /path/to/remote/list.txt)”}</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">270.</span> <span class="toc-text">It’s similar to</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">271.</span> <span class="toc-text">批量给文件添加前缀</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#undefined"><span class="toc-number">272.</span> <span class="toc-text">给所有文件添加前缀ext_, 1.txt变成ext_1.txt, 以此类推</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://yoursite.com/2018/03/19/zsh-zsh-lover/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&text=Zsh作弊手册"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&is_video=false&description=Zsh作弊手册"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Zsh作弊手册&body=Check out this article: http://yoursite.com/2018/03/19/zsh-zsh-lover/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&title=Zsh作弊手册"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://yoursite.com/2018/03/19/zsh-zsh-lover/&name=Zsh作弊手册&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menú</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Compartir</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Cap amunt</a>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 amas
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Inici</a></li>
         
          <li><a href="/about/">Qui som</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/projects_url">Projectes</a></li>
        
      </ul>
    </nav>
  </div>
</footer><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Disqus Comments -->


